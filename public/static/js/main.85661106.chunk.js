(this["webpackJsonpcryptoquest-portal"]=this["webpackJsonpcryptoquest-portal"]||[]).push([[0],{155:function(e,t,a){},189:function(e,t,a){e.exports=a(253)},194:function(e,t,a){},223:function(e,t){},242:function(e,t,a){},247:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(194),a(22)),i=a(17),s=a(11),u=a(5),m=a(113),d=a.n(m),f=a(7),g=a.n(f),E=function(){try{return JSON.parse(atob(localStorage.getItem("token").split(".")[1])).admin}catch(e){return!1}},h=function(){try{return!JSON.parse(atob(localStorage.getItem("token").split(".")[1])).admin}catch(e){return!1}},p=function(){try{return E()||h()}catch(e){return!1}},b={baseUrl:"",isAdmin:E,isLoggedIn:p,isUser:h,getEmail:function(){return p()?JSON.parse(atob(localStorage.getItem("token").split(".")[1])).email:""},flagRank:function(e,t){var a,n,r=new Date(t),c=new Date(e.startTime),l=new Date(e.endTime),o=!1,i=!1;return c>r?(a="Contest has not started yet",n=1):c<r&&l>r?(i=!0,o=!0,a="Contest is ongoing",n=2,e.rankList.show&&(!e.rankList.automaticHide||e.rankList.automaticHide&&new Date(e.rankList.timeOfHide)>r)||(i=!1,a+=", ranklist is hidden / not enabled")):l<r&&(a="Contest has already ended",n=3),{isFlag:o,isRanklist:i,msg:a,phase:n}},logout:function(e){setTimeout((function(){}),1500),e.disconnect(),localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("contestInfo")}};g.a.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers={Authorization:"Bearer ".concat(localStorage.getItem("token"))}),e.validateStatus=function(e){return e>=200&&e<505},e}),(function(e){}));var v=a(328),y=a(43),w=a(326),k=a(176),S=a(327),O=a(261),C=a(313),j=a(260),x=a(303),N=a(262),A=a(28),T=a(264),I=a(80),F=a(330),L=(a(155),a(2)),U=a(117),D=a.n(U),R=a(169),q=a.n(R),B=a(172),Q=a.n(B),W=a(168),P=a.n(W),H=a(116),M=a.n(H),_=a(170),Y=a.n(_),z=a(173),J=a.n(z),G=a(171),K=a.n(G),V=a(175),$=a.n(V),Z=a(174),X=a.n(Z),ee=a(316),te=a(325),ae=a(265),ne=a(118),re=a(334),ce=a(322),le=a(259),oe=a(323),ie=a(294),se=a(4),ue=a(335),me=a(254),de=a(179),fe=(a(242),a(54)),ge=a.n(fe),Ee=a(295),he=a(296),pe=a(100),be=Object(y.a)((function(e){return{root:{flexGrow:1,textAlign:"center"},paper:{padding:e.spacing(2),color:e.palette.text.secondary,opacity:.9}}})),ve=function(e){var t=e.qid,a=e.fn,n=e.setLoading,c=e.setSnack,l=e.openConfirmation,o=e.loadData,i=function(){n(!0),g.a.delete("".concat(b.baseUrl,"/admin/deleteFile/").concat(t,"/").concat(a)).then((function(e){c({show:!0,msg:e.data.message,status:e.data.status}),o()})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))};return r.a.createElement(me.a,null,r.a.createElement(ie.a,null,r.a.createElement(Ee.a,{href:"".concat(b.baseUrl,"/common/getFile/").concat(t,"/").concat(a),color:"error"},a)),r.a.createElement(ne.a,{variant:"contained",color:"secondary",onClick:function(){l({title:"Confirm",content:"Delete File ".concat(a," for the Question ").concat(t,"?"),positiveButtonText:"YES",negativeButtonText:"NO",cb:i})}},r.a.createElement(ge.a,null)))},ye=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.openConfirmation,l=e.socket,o=be(),i=r.a.useState({title:"",description:"",flag:"",points:0,author:"",questionFile:[]}),m=Object(u.a)(i,2),d=m[0],f=m[1],E=r.a.useState(null),h=Object(u.a)(E,2),p=h[0],v=h[1],y=r.a.useState([]),w=Object(u.a)(y,2),k=w[0],S=w[1],O=r.a.useState([]),C=Object(u.a)(O,2),j=C[0],x=C[1],N=r.a.useState(!1),T=Object(u.a)(N,2),F=T[0],L=T[1],U=r.a.useState(e.match.params.qid),D=Object(u.a)(U,2),R=D[0],q=D[1],B=r.a.useState(e.match.params.cid),Q=Object(u.a)(B,2),W=Q[0],P=Q[1],H=function(){g.a.get("".concat(b.baseUrl,"/admin/getQuestion/").concat(R)).then((function(e){if(e.data.status){var t=e.data.data,r=t.title,c=t.description,o=t.points,i=t.flag,s=t.author,u=t.questionFile;t._id;f({title:r,description:c,points:o,flag:i,author:s,questionFile:u}),q(r),S(u)}else 401===e.status&&b.logout(l);n({show:!0,msg:e.data.message,status:e.data.status}),a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},M=function(){a(!0);var e=new FormData;if(e.append("question",JSON.stringify(d)),p){var t=!0,r=!1,c=void 0;try{for(var o,i=p[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;e.append("files[]",s,s.name)}}catch(u){r=!0,c=u}finally{try{t||null==i.return||i.return()}finally{if(r)throw c}}}g.a.post("".concat(b.baseUrl,"/admin/addQuestion/").concat("notselected"===W?"new":W),e).then((function(e){n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?("notselected"===W?l.emit("new-question-added2",{title:d.title}):l.emit("new-question-added",{title:[d.title],name:e.data.message.split(":")[1].trim(),cid:W}),Y()):a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},_=function(){a(!0);var e=new FormData;if(e.append("question",JSON.stringify(d)),p){var t=!0,r=!1,c=void 0;try{for(var o,i=p[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;e.append("files[]",s,s.name)}}catch(u){r=!0,c=u}finally{try{t||null==i.return||i.return()}finally{if(r)throw c}}}g.a.put("".concat(b.baseUrl,"/admin/editQuestion/")+R,e).then((function(e){n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?(l.emit("question-edited",{title:d.title}),v(null),H()):a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},Y=function(){f({title:"",description:"",flag:"",points:0,author:"",questionFile:[]}),a(!1)};return r.a.useEffect((function(){b.isAdmin()?(L(!0),document.title="CryptoQuest|"+("new"===e.match.params.qid?"Add":"Edit")+" Question"):(L(!1),t.push("/"))}),[b.isAdmin()]),r.a.useEffect((function(){if(p){for(var e=[],t=0;t<p.length;t++)e.push(p.item(t).name);x(e)}else x([])}),[p]),r.a.useEffect((function(){F&&(P(e.match.params.cid),q(e.match.params.qid))}),[e.match.params.cid,e.match.params.qid,F]),r.a.useEffect((function(){Y(),"new"!==R&&(a(!0),H())}),[R]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.root},r.a.createElement(he.a,{container:!0,spacing:3},r.a.createElement(he.a,{item:!0,md:3,className:"force100"}),r.a.createElement(he.a,{item:!0,md:6,className:"force100"},r.a.createElement(pe.a,{className:o.paper,elevation:10},r.a.createElement(A.a,{variant:"h5",color:"secondary"},"new"===R?"Add New Question":"Edit Question"),"new"!==R&&r.a.createElement("h5",null,"[",r.a.createElement("code",null,R),"]"),r.a.createElement("code",null,"notselected"===W?"":"This Question will be directly added in ".concat(W)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r1",label:"Title",type:"text",fullWidth:!0,onInput:function(e){return f(Object(s.a)({},d,{title:e.target.value}))},value:d.title,disabled:"new"!==R}),"new"===R&&r.a.createElement("small",null,r.a.createElement("i",null,"Once the question is added, you can't change the title !!!")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{multiline:!0,variant:"outlined",margin:"dense",id:"r2",label:"Description",type:"text",fullWidth:!0,onInput:function(e){return f(Object(s.a)({},d,{description:e.target.value}))},value:d.description}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r3",label:"Flag",type:"text",fullWidth:!0,onChange:function(e){return f(Object(s.a)({},d,{flag:e.target.value}))},value:d.flag}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r4",label:"Points",type:"number",fullWidth:!0,onChange:function(e){return f(Object(s.a)({},d,{points:e.target.value}))},value:d.points,disabled:"new"!==R}),"new"===R&&r.a.createElement("small",null,r.a.createElement("i",null,"If the question is added in some contest or is already in a contest, you can't change the points !!!")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r5",label:"Author",type:"text",fullWidth:!0,onInput:function(e){return f(Object(s.a)({},d,{author:e.target.value}))},value:d.author}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"r6"},r.a.createElement(I.a,{variant:"contained",component:"span"},"Choose Files")),r.a.createElement("input",{multiple:!0,id:"r6",type:"file",hidden:!0,onChange:function(e){return v(e.target.files)}}),r.a.createElement("br",null),j.length?j.map((function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement("p",null,e))})):r.a.createElement("p",null,"No Chosen Files"),r.a.createElement("br",null),r.a.createElement(le.a,null,k.length?k.map((function(t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(ve,Object.assign({qid:R,fn:t},e,{loadData:H})))})):r.a.createElement("p",null,"No Existing Files")),r.a.createElement("br",null),"new"===R&&r.a.createElement(I.a,{variant:"contained",color:"secondary",onClick:function(){c({title:"Confirm",content:"Sure to Add the Question?",positiveButtonText:"YES",negativeButtonText:"NO",cb:M})},disabled:""===d.description||""===d.title||""===d.points||""===d.flag||""===d.author},"Add Question"),"new"!==R&&r.a.createElement(I.a,{variant:"contained",onClick:function(){c({title:"Confirm",content:"Save changes for the Question ".concat(d.title,"?"),positiveButtonText:"YES",negativeButtonText:"NO",cb:_})},disabled:""===d.description||""===d.title||""===d.points||""===d.flag||""===d.author},"Edit Question"))),r.a.createElement(he.a,{item:!0,md:3,className:"force100"}))))},we=a(58),ke=a(300),Se=a(301),Oe=a(332),Ce=a(302),je=a(263),xe=a(304),Ne=a(97),Ae=Object(y.a)((function(e){return{root:{textAlign:"center"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},avatar:{backgroundColor:Ne.a[500]}}})),Te=function(e){var t=e.question,a=e.setLoading,n=e.info,c=e.fetchQuestions,l=e.contestId,o=e.setSnack,i=r.a.useState(""),s=Object(u.a)(i,2),m=s[0],d=s[1],f=Ae(),E=r.a.useState(!1),h=Object(u.a)(E,2),p=h[0],y=h[1],w=r.a.useState(!1),k=Object(u.a)(w,2),S=k[0],O=k[1],C=function(e){O(!1),e&&n.isFlag&&(a(!0),g.a.post("".concat(b.baseUrl,"/user/solveQuestion/").concat(l,"/").concat(t.title),{flag:m}).then((function(e){e.data.status?c():a(!1),o({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){o({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)})))},F=function(){y(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,null,r.a.createElement(Se.a,{avatar:r.a.createElement(Oe.a,{"aria-label":"recipe",className:f.avatar},t.points),title:t.title,subheader:t.author}),r.a.createElement(Ce.a,null,r.a.createElement(A.a,{color:"textSecondary",paragraph:!0,style:{textAlign:"justify",whiteSpace:"pre-line",wordBreak:"break-word"}},t.description.substring(0,200),t.description.length>=200?" ...":""),r.a.createElement("br",null),r.a.createElement(A.a,{color:"textSecondary",paragraph:!0,style:{textAlign:"center",whiteSpace:"pre-line",wordBreak:"break-word"}},t.description.length>=200&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"contained",onClick:function(){y(!0)}},"Read Full Statement"),r.a.createElement("br",null),r.a.createElement("br",null)),!t.solved&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"contained",color:"secondary",onClick:function(){O(!0)},disabled:!n.isFlag},"Submit Flag"),r.a.createElement("br",null)),t.solved&&r.a.createElement(v.a,{variant:"outlined",severity:"success"},"Solved"),r.a.createElement("br",null),r.a.createElement("i",null,t.questionFile.length?"Files for this question:":"No files for this question"),r.a.createElement("br",null),t.questionFile.map((function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(Ee.a,{href:"".concat(b.baseUrl,"/common/getFile/").concat(t.title,"/").concat(e),color:"error"},e),r.a.createElement("br",null))}))))),r.a.createElement(j.a,{open:S,onClose:function(){return C(!1)},maxWidth:"md","aria-labelledby":"form-dialog-title"},r.a.createElement(x.a,{id:"form-dialog-title"},t.title),r.a.createElement(N.a,null,r.a.createElement(de.a,{margin:"dense",id:"f",label:"Enter the Flag",type:"text",fullWidth:!0,InputProps:{startAdornment:r.a.createElement(je.a,{position:"start"},"Edge2k21","{"),endAdornment:r.a.createElement(je.a,{position:"end"},"}")},onInput:function(e){return d(e.target.value)}})),r.a.createElement(T.a,null,r.a.createElement(I.a,{onClick:function(){return C(!1)}}," Close "),r.a.createElement(I.a,{onClick:function(){return C(!0)},disabled:!n.isFlag}," Submit Flag  "))),r.a.createElement(j.a,{open:p,onClose:F,maxWidth:"sm","aria-labelledby":"form-dialog-title"},r.a.createElement(x.a,{id:"form-dialog-title"},t.title),r.a.createElement(N.a,null,r.a.createElement(xe.a,{style:{textAlign:"justify",whiteSpace:"pre-line",wordBreak:"break-word"}}," ",t.description," ")),r.a.createElement(T.a,null,r.a.createElement(I.a,{onClick:F}," Close "))))},Ie=a(305),Fe=Object(y.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},active:{background:"lightblue"}}})),Le=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.globalTime,l=e.socket,o=Fe(),i=r.a.useState(!1),s=Object(u.a)(i,2),m=s[0],d=s[1],f=r.a.useState([]),E=Object(u.a)(f,2),h=E[0],p=E[1],v=r.a.useState(e.match.params.cid),y=Object(u.a)(v,2),w=y[0],k=y[1],S=r.a.useState(null),O=Object(u.a)(S,2),C=O[0],j=O[1],x=r.a.useState(null),N=Object(u.a)(x,2),A=N[0],T=N[1],I=function(e,t){var a=e;a.map((function(e){e.solved=void 0!==t.find((function(t){return t.questionTitle===e.title}))})),p(a)},F=function(){0===h.length?g.a.all([g.a.get("".concat(b.baseUrl,"/common/getContestQuestion/").concat(w)),g.a.get("".concat(b.baseUrl,"/common/getSolution/").concat(w))]).then(g.a.spread((function(e,t){e.data.status&&t.data.status?(j(b.flagRank(e.data.data.contestInfo,c)),T(e.data.data.contestInfo),I(e.data.data.questions,t.data.data),n({show:!0,msg:"Succesfully Retrieved Users and Contest",status:!0})):(n({show:!0,msg:e.data.message+" | "+t.data.message,status:!1}),401!==e.status&&401!==t.status||b.logout(l)),a(!1)}))).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)})):g.a.get("".concat(b.baseUrl,"/common/getSolution/").concat(w)).then((function(e){e.data.status?I(h,e.data.data):401===e.status&&b.logout(l),a(!1),n({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))};return r.a.useEffect((function(){b.isUser()?(d(!0),document.title="Cryptoquest|View Question"):(d(!1),t.push("/"))}),[b.isUser()]),r.a.useEffect((function(){A&&j(b.flagRank(A,c))}),[A,c]),r.a.useEffect((function(){m&&(a(!0),k(e.match.params.cid),F())}),[e.match.params.cid,m]),r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Ie.a,{maxWidth:"lg"},r.a.createElement("div",{className:o.root},r.a.createElement(he.a,{container:!0,spacing:5},C&&h.map((function(t){return r.a.createElement(he.a,{item:!0,md:4,key:t._id,style:{opacity:.9}},r.a.createElement(pe.a,{elevation:10},r.a.createElement(Te,Object.assign({},e,{question:t,contestId:w,info:C,setSnack:n,fetchQuestions:F}))))}))))))},Ue=Object(y.a)((function(e){return{root:{textAlign:"center"}}})),De=function(e){Ue();return r.a.createElement(r.a.Fragment,null)},Re=a(306),qe=a(307),Be=a(308),Qe=a(309),We=a(310),Pe=a(311),He=Object(se.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Re.a),Me=Object(se.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(qe.a),_e=Object(y.a)({table:{minWidth:700}}),Ye=function(e){var t=e.history,a=e.globalTime,n=e.setLoading,c=e.setSnack,l=e.socket,o=_e(),s=r.a.useState(!1),m=Object(u.a)(s,2),d=m[0],f=m[1],E=r.a.useState(0),h=Object(u.a)(E,2),p=h[0],v=h[1],y=r.a.useState([]),w=Object(u.a)(y,2),k=w[0],S=w[1],O=r.a.useState(e.match.params.cid),C=Object(u.a)(O,2),j=C[0],x=C[1],N=r.a.useState(null),T=Object(u.a)(N,2),I=T[0],F=T[1],L=function(){S([]),v(0),g.a.get("".concat(b.baseUrl,"/common/getSolutions/").concat(j)).then((function(e){if(e.data.status){var t=e.data.data,r=[],o=[];t.forEach((function(e){var t=o.indexOf(e.userEmail);if(-1===t){o=[].concat(Object(i.a)(o),[e.userEmail]);var a={email:e.userEmail,points:e.points,createdAt:e.createdAt};r.push(a)}else r[t].points+=e.points,r[t].createdAt=e.createdAt})),r.length>0&&r.sort((function(e,t){return e.points<t.points||e.points===t.points&&e.createdAt>t.createdAt?1:-1})),S(0===r.length?[null]:r),v(1);var s=e.data.contest;s.status=b.flagRank(s,a),F(s),c({show:!0,msg:e.data.message,status:e.data.status})}else c({show:!0,msg:e.data.message,status:e.data.status}),401===e.status&&b.logout(l),e.data.data&&v(-1),n(!1)})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))};return r.a.useEffect((function(){b.isUser()?(f(!0),document.title="CryptoQuest|Ranking"):(f(!1),t.push("/"))}),[b.isUser()]),r.a.useEffect((function(){n(!p)}),[p]),r.a.useEffect((function(){d&&(x(e.match.params.cid),n(!0),L())}),[e.match.params.cid,d]),r.a.useEffect((function(){if(I){var e=b.flagRank(I,a);I.status.isRanklist!==e.isRanklist&&(console.log(e),I.status=e,n(!0),L())}}),[I,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),null!==I&&-1!==p&&r.a.createElement(A.a,{variant:"h4",display:"block",color:"textPrimary",align:"center"},"Contest Name: ",r.a.createElement("b",null,I.name)),r.a.createElement("br",null),0!==k.length&&null!==k[0]&&r.a.createElement(Be.a,{component:pe.a,elevation:10,style:{opacity:.9}},r.a.createElement(Qe.a,{className:o.table,"aria-label":"customized table"},r.a.createElement(We.a,null,r.a.createElement(qe.a,null,r.a.createElement(He,null,"#"),r.a.createElement(He,{align:"center"},"Email ID\xa0"),r.a.createElement(He,{align:"center"},"Points"))),r.a.createElement(Pe.a,null,k.map((function(e,t){return r.a.createElement(Me,{key:e.email},r.a.createElement(He,{component:"th",scope:"row"},t+1),r.a.createElement(He,{align:"center"},e.email),r.a.createElement(He,{align:"center"},e.points))}))))),0!==k.length&&null==k[0]&&r.a.createElement(A.a,{paragraph:!0,variant:"h4",display:"block",color:"secondary",align:"center"},r.a.createElement("b",null,"No user has solved any questions")),1===p&&0===k.length&&r.a.createElement(A.a,{paragraph:!0,variant:"h4",display:"block",color:"secondary",align:"center"},r.a.createElement("b",null,r.a.createElement("i",null,"Contest ID is invalid :("))),-1===p&&r.a.createElement(A.a,{paragraph:!0,variant:"h4",display:"block",color:"secondary",align:"center"},r.a.createElement("b",null,r.a.createElement("i",null,"Ranklist Hidden :("))))},ze=(a(247),a(98)),Je=a(24),Ge=a(312),Ke=a(333),Ve=a(314),$e=a(315),Ze=Object(y.a)((function(e){return{root:{flexGrow:1,textAlign:"center"},paper:{padding:e.spacing(2),color:e.palette.text.secondary,opacity:.9}}})),Xe=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.openConfirmation,l=e.socket,o=Ze(),m=r.a.useState({name:"",description:"",startTime:new Date,endTime:new Date,imageUrl:"",rules:"",rankList:{show:!1,automaticHide:!1,timeOfHide:new Date}}),d=Object(u.a)(m,2),f=d[0],E=d[1],h=r.a.useState(e.match.params.cid),p=Object(u.a)(h,2),v=p[0],y=p[1],w=r.a.useState(!1),k=Object(u.a)(w,2),S=k[0],O=k[1],C=function(e){return E(Object(s.a)({},f,{startTime:e}))},j=function(e){return E(Object(s.a)({},f,{endTime:e}))},x=function(e){return E(Object(s.a)({},f,{rankList:Object(s.a)({},f.rankList,{timeOfHide:e})}))},N=function(){console.log(v),g.a.get("".concat(b.baseUrl,"/admin/getContest/").concat(v)).then((function(e){if(a(!1),n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status){var t=e.data.data,r=(t._id,t.name),c=t.description,o=t.startTime,i=t.endTime,s=t.imageUrl,u=t.rules,m=t.rankList;E({name:r,description:c,startTime:o,endTime:i,imageUrl:s,rules:u,rankList:m}),y(r)}else 401===e.status&&b.logout(l)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},T=function(){a(!0),g.a.post("".concat(b.baseUrl,"/admin/addContest"),f).then((function(e){n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?(l.emit("new-contest-added",{name:f.name,cid:e.data.cid}),localStorage.setItem("contestInfo",JSON.stringify([].concat(Object(i.a)(JSON.parse(localStorage.getItem("contestInfo"))),[e.data.cid]))),L()):a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},F=function(){a(!0),g.a.put("".concat(b.baseUrl,"/admin/editContest/")+v,f).then((function(e){n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?(console.log({name:f.name,cid:v}),l.emit("contest-edited",{name:f.name,cid:v}),N()):a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},L=function(){E({name:"",description:"",startTime:new Date,endTime:new Date,imageUrl:"",rules:"",rankList:{show:!1,automaticHide:!1,timeOfHide:new Date}}),a(!1)};return r.a.useEffect((function(){b.isAdmin()?(O(!0),document.title="CryptoQuest|Add Question"):(O(!1),t.push("/"))}),[b.isAdmin()]),r.a.useEffect((function(){S&&y(e.match.params.cid)}),[e.match.params.cid,S]),r.a.useEffect((function(){L(),"new"!==v&&(a(!0),N())}),[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.root},r.a.createElement(he.a,{container:!0,spacing:3},r.a.createElement(he.a,{item:!0,md:3,className:"force100"}),r.a.createElement(he.a,{item:!0,md:6,className:"force100"},r.a.createElement(pe.a,{className:o.paper,elevation:10},r.a.createElement(A.a,{variant:"h5",color:"secondary"},"new"===v?"Create New Contest":"Edit Contest"),"new"!==v&&r.a.createElement("h5",null,r.a.createElement("code",null,v)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r1",label:"Name",type:"text",fullWidth:!0,onInput:function(e){return E(Object(s.a)({},f,{name:e.target.value}))},value:f.name,disabled:"new"!==v}),"new"===v&&r.a.createElement("small",null,r.a.createElement("i",null,"Once the contest is added, you can't change the name !!!")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r2",label:"Description",type:"text",fullWidth:!0,onInput:function(e){return E(Object(s.a)({},f,{description:e.target.value}))},value:f.description}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r6",label:"Rules",type:"text",multiline:!0,fullWidth:!0,onInput:function(e){return E(Object(s.a)({},f,{rules:e.target.value}))},value:f.rules}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a,null,"Starts at:"),r.a.createElement(Je.a,{utils:ze.a},r.a.createElement(he.a,{container:!0,justify:"space-around"},r.a.createElement(Ge.a,{margin:"normal",id:"dpd1",label:"Set Date",format:"MM/dd/yyyy",value:f.startTime,onChange:C,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(Ke.a,{margin:"normal",id:"tp1",label:"Set Time",value:f.startTime,onChange:C,KeyboardButtonProps:{"aria-label":"change time"}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a,null,"Ends at:"),r.a.createElement(Je.a,{utils:ze.a},r.a.createElement(he.a,{container:!0,justify:"space-around"},r.a.createElement(Ge.a,{margin:"normal",id:"dpd2",label:"Set Date",format:"MM/dd/yyyy",value:f.endTime,onChange:j,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(Ke.a,{margin:"normal",id:"tp2",label:"Set Time",value:f.endTime,onChange:j,KeyboardButtonProps:{"aria-label":"change time"}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r5",label:"Image URL",type:"text",fullWidth:!0,onInput:function(e){return E(Object(s.a)({},f,{imageUrl:e.target.value}))},value:f.imageUrl}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ve.a,{control:r.a.createElement($e.a,{checked:f.rankList.show,onClick:function(){return E(Object(s.a)({},f,{rankList:Object(s.a)({},f.rankList,{show:!f.rankList.show,automaticHide:!f.rankList.automaticHide&&f.rankList.automaticHide})}))}}),label:"Show Ranklist to Participants"}),f.rankList.show&&r.a.createElement(Ve.a,{control:r.a.createElement($e.a,{checked:f.rankList.automaticHide,onClick:function(){return E(Object(s.a)({},f,{rankList:Object(s.a)({},f.rankList,{automaticHide:!f.rankList.automaticHide})}))}}),label:"Automatically Hide Ranklist at specific time"}),f.rankList.automaticHide&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,"Automatically Hides at:"),r.a.createElement(Je.a,{utils:ze.a},r.a.createElement(he.a,{container:!0,justify:"space-around"},r.a.createElement(Ge.a,{margin:"normal",id:"dpd3",label:"Set Date",format:"MM/dd/yyyy",value:f.rankList.timeOfHide,onChange:x,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(Ke.a,{margin:"normal",id:"tp3",label:"Set Time",value:f.rankList.timeOfHide,onChange:x,KeyboardButtonProps:{"aria-label":"change time"}})))),r.a.createElement("br",null),r.a.createElement("br",null),"new"===v&&r.a.createElement(I.a,{variant:"contained",color:"secondary",onClick:function(){c({title:"Confirm",content:"Sure to Add the Contest?",positiveButtonText:"YES",negativeButtonText:"NO",cb:T})},disabled:""===f.name||""===f.description},"Add Contest"),"new"!==v&&r.a.createElement(I.a,{variant:"contained",onClick:function(){c({title:"Confirm",content:"Save changes for the Contest ".concat(f.name,"?"),positiveButtonText:"YES",negativeButtonText:"NO",cb:F})},disabled:""===f.name||""===f.description},"Edit Contest"))),r.a.createElement(he.a,{item:!0,md:3,className:"force100"}))))},et=a(317),tt=a(318),at=Object(y.a)((function(e){return{media:{height:0,paddingTop:"56.25%"},expand:{marginLeft:"auto"}}})),nt=function(e){var t=e.history,a=e.contest,n=at(),c=r.a.useState(!1),l=Object(u.a)(c,2),o=l[0],i=l[1],s=new Intl.DateTimeFormat("en",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}),m=function(){return i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,null,r.a.createElement(Se.a,{style:{textAlign:"center"},title:a.name}),r.a.createElement(ee.a,null),a.imageUrl&&r.a.createElement(et.a,{className:n.media,image:a.imageUrl,title:"Logo"}),r.a.createElement(Ce.a,null,r.a.createElement(A.a,{color:"textSecondary",paragraph:!0,style:{textAlign:"justify",wordBreak:"break-word"}},a.description)),r.a.createElement(Ce.a,{style:{textAlign:"center"}},r.a.createElement(A.a,{paragraph:!0,color:"textSecondary",style:{marginBottom:"auto"}},r.a.createElement("b",null,"From: ")),r.a.createElement(A.a,{paragraph:!0,style:{wordBreak:"break-word"}},s.format(new Date(a.startTime))),r.a.createElement(A.a,{paragraph:!0,color:"textSecondary",style:{marginBottom:"auto"}},r.a.createElement("b",null,"To: ")),r.a.createElement(A.a,{paragraph:!0,style:{wordBreak:"break-word"}},s.format(new Date(a.endTime))," "),r.a.createElement(I.a,{variant:"contained",onClick:function(){return i(!0)}},"Rules"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{variant:"filled",severity:3===a.status.phase?"error":2===a.status.phase?"success":"info",style:{marginBottom:"auto"}},a.status.msg)),r.a.createElement(tt.a,{disableSpacing:!0},r.a.createElement(I.a,{color:"secondary",variant:"contained",onClick:function(){return t.push("/questions/".concat(a.name))},disabled:!a.status.isFlag},"Solve Questions"),r.a.createElement(I.a,{className:n.expand,color:"secondary",variant:"contained",onClick:function(){return t.push("/ranklist/".concat(a.name))},disabled:!a.status.isRanklist},"View Leaderboard")),r.a.createElement(tt.a,{disableSpacing:!0},r.a.createElement("div",{style:{margin:"0 auto"}},r.a.createElement(I.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/discussion/".concat(a.name))},disabled:!a.status.isFlag},"Have Queries? Join Discussion"))),r.a.createElement(tt.a,{disableSpacing:!0},r.a.createElement("div",{style:{margin:"0 auto"}},r.a.createElement(I.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/announcement/".concat(a.name))},disabled:!a.status.isFlag},"See Announcements"))),r.a.createElement("br",null)),r.a.createElement(j.a,{open:o,onClose:m,maxWidth:"md","aria-labelledby":"form-dialog-title"},r.a.createElement(x.a,{id:"form-dialog-title"},"Rules"),r.a.createElement(N.a,null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.rules.replace(/\n/g,"<br />")}})),r.a.createElement(T.a,null,r.a.createElement(I.a,{onClick:m}," Close "))))},rt=function(e){var t=e.history,a=e.globalTime,n=e.setLoading,c=e.setSnack,l=e.socket,o=r.a.useState([]),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState(!1),f=Object(u.a)(d,2),E=f[0],h=f[1];return r.a.useEffect((function(){b.isUser()?(document.title="CryptoQuest|Contests",h(!0)):(t.push("/"),h(!1))}),[b.isUser()]),r.a.useEffect((function(){m(s)}),[a]),r.a.useEffect((function(){E&&(n(!0),g.a.get("".concat(b.baseUrl,"/common/getAllContest")).then((function(e){if(e.data.status){var t=e.data.data;t.map((function(e){e.status=b.flagRank(e,a)})),m(t)}else 401===e.status&&b.logout(l);n(!1),c({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)})))}),[E]),r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(he.a,{container:!0,spacing:6},s.map((function(t){return r.a.createElement(he.a,{item:!0,md:4,key:t._id,style:{opacity:.9}},r.a.createElement(pe.a,{elevation:10},r.a.createElement(nt,Object.assign({},e,{contest:t}))))}))))},ct=a(93),lt=a.n(ct),ot=a(159),it=a.n(ot),st=a(162),ut=a.n(st),mt=a(161),dt=a.n(mt),ft=a(319),gt=a(257),Et=a(320),ht=a(299),pt=a(321),bt=Object(y.a)((function(e){return{media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),vt=function(e){var t=e.contest,a=e.history,n=e.setLoading,c=e.setSnack,l=e.fetchContests,o=e.openConfirmation,i=bt(),s=r.a.useState(!1),m=Object(u.a)(s,2),d=m[0],f=m[1],E=r.a.useState(!1),h=Object(u.a)(E,2),p=h[0],y=h[1],w=r.a.useRef(null),k=new Intl.DateTimeFormat("en",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}),S=function(){return y(!1)},O=function(e){w.current&&w.current.contains(e.target)||f(!1)};function C(e){"Tab"===e.key&&(e.preventDefault(),f(!1))}var F=r.a.useRef(d);r.a.useEffect((function(){!0===F.current&&!1===d&&w.current.focus(),F.current=d}),[d]);var L=function(){n(!0),g.a.get("".concat(b.baseUrl,"/admin/toggleRankList/").concat(t._id)).then((function(e){c({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?l():n(!1)})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))},U=function(){a.push("/transfer/"+t.name)},D=function(){a.push("/question/".concat(t.name,"/new"))},R=function(){a.push("/allquestions/".concat(t.name))},q=function(){a.push("/manageusers/".concat(t.name))},B=function(){a.push("/userranklist/".concat(t.name))},Q=function(){a.push("/discussions/".concat(t.name))},W=function(){a.push("/announcements/".concat(t.name))},P=function(){n(!0),g.a.delete("".concat(b.baseUrl,"/admin/deleteContest/").concat(t.name)).then((function(e){c({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?l():n(!1)})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,null,r.a.createElement(Se.a,{title:t.name,action:r.a.createElement(ne.a,{ref:w,"aria-controls":d?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){f((function(e){return!e}))},title:"Menu"},r.a.createElement(it.a,null))}),r.a.createElement(ee.a,null),t.imageUrl&&r.a.createElement(et.a,{className:i.media,image:t.imageUrl,title:"Logo"}),r.a.createElement(ft.a,{open:d,anchorEl:w.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(gt.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(pe.a,null,r.a.createElement(Et.a,{onClickAway:O},r.a.createElement(ht.a,{id:"menu-list-grow",onKeyDown:C},r.a.createElement(pt.a,{onClick:R},"View Questions"),r.a.createElement(pt.a,{onClick:D},"Add Question"),r.a.createElement(pt.a,{onClick:U},"Transfer Questions"),r.a.createElement(pt.a,{onClick:q}," Allowed Users "),r.a.createElement(pt.a,{onClick:B},"Ranklist"),r.a.createElement(pt.a,{onClick:Q},"Discussions"),r.a.createElement(pt.a,{onClick:W},"Announcements")))))})),r.a.createElement(Ce.a,null,r.a.createElement(A.a,{paragraph:!0,style:{textAlign:"justify",wordBreak:"break-word"}},t.description),r.a.createElement(v.a,{variant:"outlined",severity:"info"},t.allowedUsers.length," user(s) are allowed, ",t.questions.length," questions(s) are linked")),r.a.createElement(Ce.a,{style:{textAlign:"center"}},r.a.createElement(A.a,{paragraph:!0,color:"textSecondary",style:{marginBottom:"auto"}},r.a.createElement("b",null,"From: ")),r.a.createElement(A.a,{paragraph:!0,style:{wordBreak:"break-word"}},k.format(new Date(t.startTime))),r.a.createElement(A.a,{paragraph:!0,color:"textSecondary",style:{marginBottom:"auto"}},r.a.createElement("b",null,"To: ")),r.a.createElement(A.a,{paragraph:!0,style:{wordBreak:"break-word"}},k.format(new Date(t.endTime))," "),r.a.createElement(I.a,{variant:"contained",onClick:function(){return y(!0)}},"Rules")),r.a.createElement(Ce.a,null,r.a.createElement(v.a,{variant:"outlined",severity:t.rankList.show?"success":"warning"},"Ranklist is ",t.rankList.show?"":"in","visible"),!t.rankList.automaticHide&&r.a.createElement(v.a,{variant:"outlined",severity:"warning"},"Auto Hide Ranklist is OFF"),t.rankList.automaticHide&&r.a.createElement(v.a,{variant:"outlined",severity:"success"},r.a.createElement("b",null,"Ranklist will automatically hide at: "),r.a.createElement("br",null),k.format(new Date(t.rankList.timeOfHide)))),r.a.createElement(tt.a,{disableSpacing:!0},r.a.createElement(ne.a,{onClick:function(){a.push("/contest/"+t.name)},title:"Edit"}," ",r.a.createElement(lt.a,null)," "),r.a.createElement(ne.a,{onClick:function(){o({title:"Confirm",content:"Sure to Delete the Contest ".concat(t.name,"?"),positiveButtonText:"YES",negativeButtonText:"NO",cb:P})},title:"Delete"}," ",r.a.createElement(ge.a,null)," "),(!t.rankList.automaticHide||t.rankList.automaticHide&&new Date(t.rankList.timeOfHide)>new Date)&&r.a.createElement(ne.a,{className:i.expand,onClick:function(){o({title:"Confirm",content:"Sure to ".concat(t.rankList.show?"Hide":"Show"," the Leaderboard of the Contest ").concat(t.name,"?"),positiveButtonText:"YES",negativeButtonText:"NO",cb:L})},title:"Toggle Ranklist"},t.rankList.show?r.a.createElement(dt.a,null):r.a.createElement(ut.a,null)))),r.a.createElement(j.a,{open:p,onClose:S,maxWidth:"md","aria-labelledby":"form-dialog-title"},r.a.createElement(x.a,{id:"form-dialog-title"},"Rules"),r.a.createElement(N.a,null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.rules.replace(/\n/g,"<br />")}})),r.a.createElement(T.a,null,r.a.createElement(I.a,{onClick:S}," Close "))))},yt=Object(y.a)((function(e){return{media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}}})),wt=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.openConfirmation,l=e.socket,o=(yt(),r.a.useState([])),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState(!1),f=Object(u.a)(d,2),E=f[0],h=f[1],p=function(){g.a.get("".concat(b.baseUrl,"/admin/getAllContest")).then((function(e){e.data.status?m(e.data.data):401===e.status&&b.logout(l),a(!1),n({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))};return r.a.useEffect((function(){b.isAdmin()?(document.title="Cryptoquest|All Contest",h(!0)):(t.push("/"),h(!1))}),[b.isAdmin()]),r.a.useEffect((function(){E&&(a(!0),p())}),[E]),r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(he.a,{container:!0,spacing:6},s.map((function(t){return r.a.createElement(he.a,{item:!0,md:4,key:t._id,style:{opacity:.9}},r.a.createElement(pe.a,{elevation:10},r.a.createElement(vt,Object.assign({},e,{contest:t,fetchContests:p,openConfirmation:c,setLoading:a,setSnack:n}))))}))))},kt=a(163),St=a.n(kt),Ot=Object(y.a)((function(e){return{media:{height:0,paddingTop:"56.25%"},expand:{marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},avatar:{backgroundColor:Ne.a[500]}}})),Ct=function(e){var t=e.question,a=e.history,n=e.setLoading,c=e.setSnack,l=e.fetchQuestions,o=e.openConfirmation,i=Ot(),s=r.a.useState(!0),m=Object(u.a)(s,2),d=m[0],f=m[1],E=r.a.useState(!1),h=Object(u.a)(E,2),p=h[0],v=h[1],y=function(e){f(e),v(!0)},w=function(){v(!1)},k=function(){n(!0);var e=[];t.questionFile.forEach((function(a){return e.push(g.a.delete("".concat(b.baseUrl,"/admin/deleteFile/").concat(t.title,"/").concat(a)))})),g.a.all(e).then((function(e){e.find((function(e){return!e.data.status}))?(c({show:!0,msg:"Some Files can't be deleted",status:!1}),n(!1)):g.a.delete("".concat(b.baseUrl,"/admin/deleteQuestion/").concat(t.title)).then((function(e){e.data.status?l():n(!1),c({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,null,r.a.createElement(Se.a,{avatar:r.a.createElement(Oe.a,{"aria-label":"recipe",className:i.avatar}," ",t.points," "),title:t.title,subheader:t.author}),r.a.createElement(Ce.a,null,r.a.createElement(A.a,{color:"textSecondary",paragraph:!0,style:{textAlign:"justify",whiteSpace:"pre-line",wordBreak:"break-word"}},t.description.substring(0,200),t.description.length>=200?" ...":""),r.a.createElement(A.a,{color:"textSecondary",style:{textAlign:"center",whiteSpace:"pre-line",wordBreak:"break-word"}},t.description.length>=200&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"contained",onClick:function(){return y(!0)}},"Read Full Statement"),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("i",null,t.questionFile.length?"File(s) for this question:":"No file(s) for this question"),r.a.createElement("br",null),t.questionFile.map((function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(Ee.a,{href:"".concat(b.baseUrl,"/common/getFile/").concat(t.title,"/").concat(e),color:"error"},e),r.a.createElement("br",null))})),r.a.createElement("br",null),r.a.createElement("code",null,t.flag))),r.a.createElement(tt.a,{disableSpacing:!0,hidden:!b.isAdmin()},r.a.createElement(ne.a,{onClick:function(){a.push("/question/notselected/"+t.title)}},r.a.createElement(lt.a,null)),r.a.createElement(ne.a,{onClick:function(){o({title:"Confirm",content:"Sure to Delete the Question ".concat(t.title,"?"),positiveButtonText:"YES",negativeButtonText:"NO",cb:k})}},r.a.createElement(ge.a,null)),t.solves&&r.a.createElement(ne.a,{className:i.expand,onClick:function(){return y(!1)},"aria-expanded":p,"aria-label":"show more"},r.a.createElement(St.a,null)))),r.a.createElement(j.a,{open:p,onClose:w,maxWidth:"md","aria-labelledby":"form-dialog-title"},r.a.createElement(x.a,{id:"form-dialog-title"},d?t.title:"Solved by:"),r.a.createElement(N.a,null,!d&&t.solves.map((function(e){return r.a.createElement(xe.a,{key:e,style:{textAlign:"justify",whiteSpace:"pre-line",wordBreak:"break-word"}}," ",e," ")})),d&&r.a.createElement(xe.a,{style:{textAlign:"justify",whiteSpace:"pre-line",wordBreak:"break-word"}}," ",t.description," ")),r.a.createElement(T.a,null,r.a.createElement(I.a,{onClick:w}," Close "))))},jt=Object(y.a)((function(e){return{root2:{flexGrow:1},cent:{textAlign:"center"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),xt=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.openConfirmation,l=e.socket,o=r.a.useState(!1),i=Object(u.a)(o,2),s=i[0],m=i[1],d=jt(),f=r.a.useState([]),E=Object(u.a)(f,2),h=E[0],p=E[1],v=r.a.useState(0),y=Object(u.a)(v,2),w=y[0],k=y[1],S=r.a.useState(e.match.params.cid),O=Object(u.a)(S,2),C=O[0],j=O[1],x=function(){a(!0),"all"!==C?g.a.all([g.a.get("".concat(b.baseUrl,"/admin/getContestQuestion/").concat(C)),g.a.get("".concat(b.baseUrl,"/admin/getSolves/").concat(C))]).then(g.a.spread((function(e,t){if(e.data.status&&t.data.status){var r=e.data.data,c=0;r.map((function(e){e.solves=[],c+=e.points,t.data.data.forEach((function(t){e.title===t.questionTitle&&e.solves.push(t.userEmail)}))})),p(r),k(c),a(!1),n({show:!0,msg:e.data.message,status:e.data.status})}else n({show:!0,msg:e.data.message+" | "+t.data.message,status:!1}),a(!1),401!==e.status&&401!==t.status||b.logout(l)}))).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)})):g.a.get("".concat(b.baseUrl,"/admin/getAllQuestion")).then((function(e){if(e.data.status){var t=e.data.data,r=0;t.forEach((function(e){return r+=e.points})),p(t),k(r)}else 401===e.status&&b.logout(l);a(!1),n({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))};return r.a.useEffect((function(){b.isAdmin()?(m(!0),document.title="CryptoQuest|All Questions"):(t.push("/"),m(!1))}),[b.isAdmin()]),r.a.useEffect((function(){s&&(j(e.match.params.cid),a(!0),x())}),[e.match.params.cid,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(he.a,{container:!0,spacing:2},r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(A.a,{variant:"h5",color:"secondary",className:d.cent},"Total Questions: ",r.a.createElement("b",null,h.length))),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(A.a,{variant:"h5",color:"secondary",className:d.cent},"Total Points: ",r.a.createElement("b",null,w)))),r.a.createElement("br",null),r.a.createElement(Ie.a,{maxWidth:"lg",style:{opacity:.9}},r.a.createElement("div",{className:d.root2},0===h.length&&r.a.createElement("div",{className:"force-center"},r.a.createElement("i",null,r.a.createElement(A.a,{variant:"h5",color:"secondary"},"No questions in this contest yet"))),r.a.createElement(he.a,{container:!0,spacing:5},h.map((function(t){return r.a.createElement(he.a,{item:!0,sm:4,key:t._id},r.a.createElement(pe.a,{elevation:10},r.a.createElement(Ct,Object.assign({},e,{question:t,fetchQuestions:x,openConfirmation:c,setLoading:a}))))}))))))},Nt=a(95),At=a.n(Nt),Tt=a(94),It=a.n(Tt),Ft=a(329),Lt=Object(y.a)((function(e){return{root:{margin:"auto"},cardHeader:{padding:e.spacing(1,2)},list:{height:"70vh",backgroundColor:e.palette.background.paper,overflow:"auto"},button:{margin:e.spacing(.5,0)}}}));function Ut(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))}function Dt(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))}var Rt=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.openConfirmation,l=e.socket,o=Lt(),s=r.a.useState(!1),m=Object(u.a)(s,2),d=m[0],f=m[1],E=r.a.useState([]),h=Object(u.a)(E,2),p=h[0],v=h[1],y=r.a.useState(e.match.params.cid),w=Object(u.a)(y,2),k=w[0],S=w[1],O=r.a.useState([]),C=Object(u.a)(O,2),j=C[0],x=C[1],N=r.a.useState([]),A=Object(u.a)(N,2),T=A[0],F=A[1],L=r.a.useState([]),U=Object(u.a)(L,2),D=U[0],R=U[1],q=r.a.useState([]),B=Object(u.a)(q,2),Q=B[0],W=B[1],P=Dt(p,j),H=Dt(p,T),M=function(){a(!0);var e=[];Q.forEach((function(t){-1!==T.indexOf(t.title)&&e.push(t.title)}));var t=T.filter((function(e){return-1===D.indexOf(e)}));g.a.post("".concat(b.baseUrl,"/admin/migrateQuestion/").concat(k),{questions:e}).then((function(e){n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?(_(),t.length&&l.emit("new-question-added",{title:t,name:e.data.message.split(":")[1].trim(),cid:k})):a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},_=function(){g.a.all([g.a.get("".concat(b.baseUrl,"/admin/getAllQuestion")),g.a.get("".concat(b.baseUrl,"/admin/getContestQuestion/").concat(k))]).then(g.a.spread((function(e,t){if(e.data.status&&t.data.status){W(e.data.data);var r=[];t.data.data.forEach((function(e){return r.push(e.title)})),F(r),R(r);var c=[];e.data.data.filter((function(e){return-1===r.indexOf(e.title)})).forEach((function(e){return c.push(e.title)})),x(c),n({show:!0,msg:"Succesfully Retrieved Questions and Contest",status:!0})}else n({show:!0,msg:t.data.message,status:!1}),401!==e.status&&401!==t.status||b.logout(l);a(!1)}))).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},Y=function(e){return function(){var t=p.indexOf(e),a=Object(i.a)(p);-1===t?a.push(e):a.splice(t,1),v(a)}},z=function(e){return Dt(p,e).length},J=function(e){return function(){var t,a;z(e)===e.length?v(Ut(p,e)):v((t=p,a=e,[].concat(Object(i.a)(t),Object(i.a)(Ut(a,t)))))}};r.a.useEffect((function(){b.isAdmin()?(f(!0),document.title="CryptoQuest|Question Transfer"):(f(!1),t.push("/"))}),[b.isAdmin()]),r.a.useEffect((function(){d&&(a(!0),S(e.match.params.cid),_())}),[e.match.params.cid,d]);var G=function(e,t){return r.a.createElement(ke.a,null,r.a.createElement(Se.a,{className:o.cardHeader,avatar:r.a.createElement(Ft.a,{onClick:J(t),checked:z(t)===t.length&&0!==t.length,indeterminate:z(t)!==t.length&&0!==z(t),disabled:0===t.length,inputProps:{"aria-label":"all items selected"}}),title:e,subheader:"".concat(z(t),"/").concat(t.length," selected")}),r.a.createElement(ce.a,null),r.a.createElement(le.a,{className:o.list,dense:!0,component:"div",role:"list"},t.map((function(e){var t="transfer-list-all-item-".concat(e,"-label");return r.a.createElement(me.a,{key:e,role:"listitem",button:!0,onClick:Y(e)},r.a.createElement(oe.a,null,r.a.createElement(Ft.a,{checked:-1!==p.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ie.a,{id:t,primary:e}))})),r.a.createElement(me.a,null)))};return r.a.createElement(Ie.a,{fixed:!0,style:{opacity:.9}},r.a.createElement(he.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:o.root},r.a.createElement(he.a,{item:!0,md:5},G("Questions in the Store",j)),r.a.createElement(he.a,{item:!0,md:2},r.a.createElement(he.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(ne.a,{className:o.button,onClick:function(){F(T.concat(P)),x(Ut(j,P)),v(Ut(p,P))},disabled:0===P.length,"aria-label":"move selected right"},r.a.createElement(It.a,null)),r.a.createElement(ne.a,{className:o.button,onClick:function(){x(j.concat(H)),F(Ut(T,H)),v(Ut(p,H))},disabled:0===H.length,"aria-label":"move selected left"},r.a.createElement(At.a,null)))),r.a.createElement(he.a,{item:!0,md:5},G("Questions already present",T))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(I.a,{onClick:function(){c({title:"Confirm",content:"Save Changes?",positiveButtonText:"YES",negativeButtonText:"NO",cb:M})},color:"secondary",variant:"contained"},"Save")),r.a.createElement("br",null))},qt=Object(y.a)((function(e){return{root:{textAlign:"center",padding:"5%",opacity:.9}}})),Bt=function(e){var t=qt();return r.a.createElement(pe.a,{className:t.root},r.a.createElement(A.a,{variant:"h2"},"The Page You Requested Does Not Exist !!!",r.a.createElement("br",null),r.a.createElement("br",null),"Please Go Back and Navigate using the Links and Buttons of the Website :)"))},Qt=Object(y.a)((function(e){return{root:{margin:"auto"},cardHeader:{padding:e.spacing(1,2)},list:{height:"70vh",backgroundColor:e.palette.background.paper,overflow:"auto"},button:{margin:e.spacing(.5,0)}}}));function Wt(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))}function Pt(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))}var Ht=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.openConfirmation,l=e.socket,o=Qt(),s=r.a.useState(!1),m=Object(u.a)(s,2),d=m[0],f=m[1],E=r.a.useState([]),h=Object(u.a)(E,2),p=h[0],v=h[1],y=r.a.useState(e.match.params.cid),w=Object(u.a)(y,2),k=w[0],S=w[1],O=r.a.useState([]),C=Object(u.a)(O,2),j=C[0],x=C[1],N=r.a.useState([]),A=Object(u.a)(N,2),T=A[0],F=A[1],L=r.a.useState([]),U=Object(u.a)(L,2),D=U[0],R=U[1],q=r.a.useState([]),B=Object(u.a)(q,2),Q=B[0],W=B[1],P=Pt(p,j),H=Pt(p,T),M=function(){a(!0);var e=[];Q.forEach((function(t){-1!==T.indexOf(t.email)&&e.push(t.email)}));var t=T.filter((function(e){return-1===D.indexOf(e)}));g.a.post("".concat(b.baseUrl,"/admin/addAllowedUser/").concat(k),{users:e}).then((function(e){n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?(_(),t.length&&l.emit("allowed-users",{users:t,name:e.data.message.split(":")[1].trim(),cid:k})):a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},_=function(){g.a.all([g.a.get("".concat(b.baseUrl,"/admin/getAllUsers")),g.a.get("".concat(b.baseUrl,"/admin/getAllowedUsers/").concat(k))]).then(g.a.spread((function(e,t){if(e.data.status&&t.data.status){W(e.data.data),F(t.data.data),R(t.data.data);var r=[];e.data.data.filter((function(e){return-1===t.data.data.indexOf(e.email)})).forEach((function(e){return r.push(e.email)})),x(r),n({show:!0,msg:"Succesfully Retrieved Users and Contest",status:!0})}else n({show:!0,msg:t.data.message,status:!1}),401!==e.status&&401!==t.status||b.logout(l);a(!1)}))).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},Y=function(e){return function(){var t=p.indexOf(e),a=Object(i.a)(p);-1===t?a.push(e):a.splice(t,1),v(a)}},z=function(e){return Pt(p,e).length},J=function(e){return function(){var t,a;z(e)===e.length?v(Wt(p,e)):v((t=p,a=e,[].concat(Object(i.a)(t),Object(i.a)(Wt(a,t)))))}};r.a.useEffect((function(){b.isAdmin()?(f(!0),document.title="CryptoQuest|User Management"):(f(!1),t.push("/"))}),[b.isAdmin()]),r.a.useEffect((function(){d&&(a(!0),S(e.match.params.cid),_())}),[e.match.params.cid,d]);var G=function(e,t){return r.a.createElement(ke.a,null,r.a.createElement(Se.a,{className:o.cardHeader,avatar:r.a.createElement(Ft.a,{onClick:J(t),checked:z(t)===t.length&&0!==t.length,indeterminate:z(t)!==t.length&&0!==z(t),disabled:0===t.length,inputProps:{"aria-label":"all items selected"}}),title:e,subheader:"".concat(z(t),"/").concat(t.length," selected")}),r.a.createElement(ce.a,null),r.a.createElement(le.a,{className:o.list,dense:!0,component:"div",role:"list"},t.map((function(e){var t="transfer-list-all-item-".concat(e,"-label");return r.a.createElement(me.a,{key:e,role:"listitem",button:!0,onClick:Y(e)},r.a.createElement(oe.a,null,r.a.createElement(Ft.a,{checked:-1!==p.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ie.a,{id:t,primary:e}))})),r.a.createElement(me.a,null)))};return r.a.createElement(Ie.a,{fixed:!0,style:{opacity:.9}},r.a.createElement(he.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:o.root},r.a.createElement(he.a,{item:!0,md:5},G("Users registered in system",j)),r.a.createElement(he.a,{item:!0,md:2},r.a.createElement(he.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(ne.a,{className:o.button,onClick:function(){F(T.concat(P)),x(Wt(j,P)),v(Wt(p,P))},disabled:0===P.length,"aria-label":"move selected right"},r.a.createElement(It.a,null)),r.a.createElement(ne.a,{className:o.button,onClick:function(){x(j.concat(H)),F(Wt(T,H)),v(Wt(p,H))},disabled:0===H.length,"aria-label":"move selected left"},r.a.createElement(At.a,null)))),r.a.createElement(he.a,{item:!0,md:5},G("Users already allowed",T))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(I.a,{onClick:function(){c({title:"Confirm",content:"Save Changes?",positiveButtonText:"YES",negativeButtonText:"NO",cb:M})},color:"secondary",variant:"contained"},"Save")),r.a.createElement("br",null))},Mt=Object(y.a)((function(e){return{root:{textAlign:"center"},paper:{padding:e.spacing(2),color:e.palette.text.secondary,opacity:.9}}})),_t=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.openConfirmation,l=Mt(),i=r.a.useState({}),m=Object(u.a)(i,2),d=m[0],f=m[1],E=r.a.useState([]),h=Object(u.a)(E,2),p=h[0],y=h[1],w=r.a.useState({name:"",email:"",contact:"",rcid:"",password:""}),k=Object(u.a)(w,2),S=k[0],O=k[1],C=r.a.useState(!1),j=Object(u.a)(C,2),x=j[0],N=j[1],T=function(){a(!0);var e=d;Object.keys(e).forEach((function(t){return e[t]="password"===t?e[t]:e[t].trim()})),g.a.post("".concat(b.baseUrl,"/user/register"),e).then((function(e){n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status&&t.push("/"),a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},F=function(e,t){var a=!1,n="",r=!1;switch(e){case"name":a=/^[A-Za-z ]/.test(t.trim()),n=t?a?"":"Name must contain only spaces and alphabets":"Name is Required";break;case"email":r=void 0!==p.find((function(e){return e.email===t})),a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t),n=r?"This Email ID is already registered":t?a?"":"Email ID is invalid":"Email ID is Required";break;case"contact":r=void 0!==p.find((function(e){return e.contact===t})),a=/^[6-9]{1}[0-9]{9}/.test(t),n=r?"This Contact is already registered":t?a?"":"Contact Number must contain exactly 10 digits":"Contact Number is Required";break;case"rcid":r=void 0!==p.find((function(e){return e.rcid+""===t+""})),a=""!==t,n=r?"This RC ID is already registered":t?"":"RC ID is Required";break;case"password":n=(a=""!==t.trim())?"":"Password is Required!!!"}a&&!r?(f(Object(s.a)({},d,Object(o.a)({},e,t))),O(Object(s.a)({},S,Object(o.a)({},e,"C")))):O(Object(s.a)({},S,Object(o.a)({},e,n)))};r.a.useEffect((function(){N(U())}),[S]);var U=function(){return"C"===S.name&&"C"===S.email&&"C"===S.contact&&"C"===S.rcid&&"C"===S.password};return r.a.useEffect((function(){a(!0),g.a.get("".concat(b.baseUrl,"/user/fetchECRs")).then((function(e){e.data.status&&y(e.data.users),a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)})),b.isLoggedIn()?t.push("/"):document.title="CryptoQuest|Registration"}),[]),r.a.createElement(he.a,{container:!0,spacing:6},r.a.createElement(he.a,{item:!0,md:3,className:"force100"}),r.a.createElement(he.a,{item:!0,md:6,className:"force100"},r.a.createElement(pe.a,{className:Object(L.a)(l.paper,l.root),elevation:10},r.a.createElement(A.a,{variant:"h4",color:"secondary"},"Registration"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r1",label:"Full Name *",type:"text",fullWidth:!0,onInput:function(e){return F("name",e.target.value)}}),r.a.createElement("br",null),S.name&&"C"!==S.name&&r.a.createElement(v.a,{elevation:5,variant:"outlined",severity:"error"},S.name),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r2",label:"Email ID *",type:"email",fullWidth:!0,onInput:function(e){return F("email",e.target.value)}}),r.a.createElement("br",null),S.email&&"C"!==S.email&&r.a.createElement(v.a,{elevation:5,variant:"outlined",severity:"error"},S.email),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r3",label:"Contact Number *",type:"number",fullWidth:!0,onInput:function(e){return F("contact",e.target.value)}}),r.a.createElement("br",null),S.contact&&"C"!==S.contact&&r.a.createElement(v.a,{elevation:5,variant:"outlined",severity:"error"},S.contact),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r4",label:"RC ID *",type:"number",fullWidth:!0,onInput:function(e){return F("rcid",e.target.value)}}),r.a.createElement("br",null),S.rcid&&"C"!==S.rcid&&r.a.createElement(v.a,{elevation:5,variant:"outlined",severity:"error"},S.rcid),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r5",label:"College",type:"text",fullWidth:!0,onInput:function(e){return f(Object(s.a)({},d,{institueName:e.target.value}))}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r6",label:"Stream",type:"text",fullWidth:!0,onInput:function(e){return f(Object(s.a)({},d,{stream:e.target.value}))}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r7",label:"Year",type:"number",fullWidth:!0,onInput:function(e){return f(Object(s.a)({},d,{year:e.target.value}))}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"r8",label:"Password *",type:"password",fullWidth:!0,onInput:function(e){return F("password",e.target.value)}}),r.a.createElement("br",null),S.password&&"C"!==S.password&&r.a.createElement(v.a,{elevation:5,variant:"outlined",severity:"error"},S.password),r.a.createElement("br",null),r.a.createElement(I.a,{variant:"contained",onClick:function(){c({title:"Confirm",content:"Sure to Register?",positiveButtonText:"Yes, Register",negativeButtonText:"No",cb:T})},color:"secondary",disabled:!x}," Register  "))),r.a.createElement(he.a,{item:!0,md:3,className:"force100"}))},Yt=Object(se.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Re.a),zt=Object(se.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(qe.a),Jt=Object(y.a)({table:{minWidth:700}});function Gt(e){var t=e.k,a=e.i,n=e.openConfirmation,c=e.setLoading,l=e.setSnack,o=e.fetchUsers,i=function(){c(!0),g.a.delete("".concat(b.baseUrl,"/admin/deleteUser/").concat(t.email)).then((function(e){e.data.status?(l({show:!0,msg:e.data.message,status:e.data.status}),o()):(c(!1),l({show:!0,msg:e.data.message,status:e.data.status}))})).catch((function(e){l({show:!0,msg:"Failed to Connect to the Server...",status:!1}),c(!1)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(zt,{key:t.email},r.a.createElement(Yt,{component:"th",scope:"row"},a+1),r.a.createElement(Yt,{align:"center"},t.name),r.a.createElement(Yt,{align:"center"},t.email),r.a.createElement(Yt,{align:"center"},t.rcid),r.a.createElement(Yt,{align:"center"},t.stream),r.a.createElement(Yt,{align:"center"},t.year),r.a.createElement(Yt,{align:"center"},t.instituteName),r.a.createElement(Yt,{align:"center"},t.contact),r.a.createElement(Yt,{align:"center"},r.a.createElement(ne.a,{color:"secondary",onClick:function(){n({title:"Confirm",content:"Sure to Delete the User ".concat(t.email,"?"),positiveButtonText:"YES",negativeButtonText:"NO",cb:i})}},r.a.createElement(ge.a,null)))))}var Kt=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.openConfirmation,l=e.socket,o=Jt(),i=r.a.useState([]),s=Object(u.a)(i,2),m=s[0],d=s[1],f=r.a.useState(!1),E=Object(u.a)(f,2),h=E[0],p=E[1];r.a.useEffect((function(){b.isAdmin()?(p(!0),document.title="CryptoQuest|Userlist"):(p(!1),t.push("/"))}),[b.isAdmin()]),r.a.useEffect((function(){h&&(a(!0),v())}),[h]);var v=function(){g.a.get("".concat(b.baseUrl,"/admin/getAllUsers")).then((function(e){if(e.data.status){var t=e.data.data;d(t)}else 401===e.status&&b.logout(l);a(!1),n({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))};return r.a.createElement(r.a.Fragment,null,0!==m.length&&r.a.createElement(Be.a,{component:pe.a,elevation:10,style:{opacity:.9}},r.a.createElement(Qe.a,{className:o.table,"aria-label":"customized table"},r.a.createElement(We.a,null,r.a.createElement(qe.a,null,r.a.createElement(Yt,null,"#"),r.a.createElement(Yt,{align:"center"},"Name"),r.a.createElement(Yt,{align:"center"},"Email ID\xa0"),r.a.createElement(Yt,{align:"center"},"RC ID"),r.a.createElement(Yt,{align:"center"},"Stream"),r.a.createElement(Yt,{align:"center"},"Year"),r.a.createElement(Yt,{align:"center"},"College"),r.a.createElement(Yt,{align:"center"},"Contact"),r.a.createElement(Yt,{align:"center"},"Actions"))),r.a.createElement(Pe.a,null,m.map((function(e,t){return r.a.createElement(Gt,{key:e.email,k:e,i:t,openConfirmation:c,setLoading:a,setSnack:n,fetchUsers:v})}))))))},Vt=(a(248),a(324)),$t=a(165),Zt=a.n($t),Xt=a(164),ea=a.n(Xt),ta=Object(se.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Re.a),aa=Object(se.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(qe.a),na=Object(y.a)({root:{"& > *":{borderBottom:"unset"},minWidth:275},title:{fontSize:14}});function ra(e){var t=e.row,a=e.i,n=r.a.useState(!1),c=Object(u.a)(n,2),l=c[0],o=c[1],i=na();return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,{className:i.root},r.a.createElement(ta,null,a+1),r.a.createElement(ta,{component:"th",scope:"row"},t.email,r.a.createElement(ne.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!l)}},l?r.a.createElement(ea.a,null):r.a.createElement(Zt.a,null)),r.a.createElement(Vt.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(ke.a,{className:i.root,elevation:5},r.a.createElement(Ce.a,null,r.a.createElement(A.a,{className:i.title,color:"textPrimary"},r.a.createElement("b",null,"Name:")," ",t.name,r.a.createElement("br",null),r.a.createElement("b",null,"Contact #:")," ",t.contact,r.a.createElement("br",null),r.a.createElement("b",null,"College:")," ",t.instituteName))))),r.a.createElement(ta,{hidden:!0,align:"center"},t.name),r.a.createElement(ta,{hidden:!0,align:"center"},t.contact),r.a.createElement(ta,{hidden:!0,align:"center"},t.instituteName),r.a.createElement(ta,{align:"center"},t.questions.map((function(e,t){return r.a.createElement("span",{key:e},t>0?", ":"",e)}))),r.a.createElement(ta,{align:"center"},t.questions.length),r.a.createElement(ta,{align:"center"},t.points)))}var ca=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.socket,l=r.a.useState(!1),o=Object(u.a)(l,2),s=o[0],m=o[1],d=r.a.useState([]),f=Object(u.a)(d,2),E=f[0],h=f[1],p=r.a.useState(e.match.params.cid),v=Object(u.a)(p,2),y=v[0],w=(v[1],r.a.useState(!1)),k=Object(u.a)(w,2),S=k[0],O=k[1];return r.a.useEffect((function(){b.isLoggedIn()?(m(!0),document.title="CryptoQuest|Ranking"):(m(!1),t.push("/"))}),[b.isAdmin()]),r.a.useEffect((function(){s&&(a(!0),O(!1),g.a.get("".concat(b.baseUrl,"/admin/getSolutions/").concat(y)).then((function(e){if(e.data.status){var t=e.data.data,r=[],l=[];t.length>0?(t.forEach((function(e){var t=l.indexOf(e.userEmail);if(-1===t){l=[].concat(Object(i.a)(l),[e.userEmail]);var a={email:e.userEmail,points:e.points,questions:[e.questionTitle],createdAt:e.createdAt,name:e.name,contact:e.contact,instituteName:e.instituteName};r.push(a)}else r[t].points+=e.points,r[t].questions=[].concat(Object(i.a)(r[t].questions),[e.questionTitle]),r[t].createdAt=e.createdAt})),r.sort((function(e,t){return e.points<t.points||e.points===t.points&&e.createdAt>t.createdAt?1:-1})),h(r),n({show:!0,msg:e.data.message,status:e.data.status}),a(!1)):a(!1),O(!0)}else n({show:!0,msg:e.data.message,status:e.data.status}),a(!1),401===e.status&&b.logout(c)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)})))}),[s]),r.a.createElement(r.a.Fragment,null,0!==E.length&&r.a.createElement(Be.a,{component:pe.a,elevation:10,style:{opacity:.9}},r.a.createElement(Qe.a,{"aria-label":"collapsible table",id:"table-to-xls"},r.a.createElement(We.a,null,r.a.createElement(aa,null,r.a.createElement(ta,null,"#"),r.a.createElement(ta,{align:"left"},"Email ID\xa0"),r.a.createElement(ta,{hidden:!0,align:"center"},"Name"),r.a.createElement(ta,{hidden:!0,align:"center"},"Contact"),r.a.createElement(ta,{hidden:!0,align:"center"},"Institute Name"),r.a.createElement(ta,{align:"center"},"\xa0Solved Questions"),r.a.createElement(ta,{align:"center"},"No of Questions Solved"),r.a.createElement(ta,{align:"center"},"Points"))),r.a.createElement(Pe.a,null,E.map((function(e,t){return r.a.createElement(ra,{key:e.email,row:e,i:t})}))))),0===E.length&&S&&r.a.createElement(A.a,{paragraph:!0,variant:"h4",display:"block",color:"secondary",align:"center"},r.a.createElement("b",null,"No user has solved any questions")))},la=Object(y.a)((function(e){return{title:{flexGrow:1}}})),oa=function(e){var t=e.globalTime,a=e.error,n=e.notification,c=e.setNotification,l=la(),o=new Intl.DateTimeFormat("en",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}),i=function(e){e&&n.cb(),c({open:!1,message:"",buttonText:"",cb:null})};return r.a.createElement(ae.a,null,1!==a&&r.a.createElement(v.a,{severity:"error",variant:"filled"},"Failed to Connect to the Server... Either Internet Connection is Poor, Or Server is Unavailable"),n.open&&r.a.createElement(v.a,{elevation:5,variant:"outlined",severity:"warning",action:r.a.createElement(r.a.Fragment,null,""!==n.buttonText&&r.a.createElement(I.a,{onClick:function(){return i(!0)}},n.buttonText),r.a.createElement(I.a,{onClick:function(){return i(!1)}},"\u2716"))},n.message),r.a.createElement(A.a,{variant:"h6",noWrap:!0,className:l.title},""),r.a.createElement(v.a,{elevation:5,severity:"info",variant:"outlined"},o.format(new Date(t))))},ia=(a(249),a(96)),sa=a.n(ia),ua=a(298),ma=a(331),da=a(297),fa=Object(y.a)((function(e){return{root:{background:e.palette.background.paper,height:.56*window.screen.height,overflowY:"auto",opacity:.9},self:{marginLeft:"auto",maxWidth:"70%",width:"max-content"},others:{marginRight:"auto",maxWidth:"70%",width:"max-content"},typer:{background:e.palette.background.paper,paddingTop:.02*window.screen.height,paddingBottom:.02*window.screen.height}}})),ga=function(e){var t=e.history,a=e.globalTime,n=e.setLoading,c=e.setSnack,l=e.socket,m=e.discussions,d=e.setDiscussions,f=new Intl.DateTimeFormat("en",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}),E=r.a.useState(""),h=Object(u.a)(E,2),p=h[0],v=h[1],y=r.a.useState(!1),w=Object(u.a)(y,2),k=w[0],S=w[1],O=r.a.useState(e.match.params.cid),C=Object(u.a)(O,2),j=C[0],x=(C[1],r.a.useRef(null)),N=fa();return r.a.useEffect((function(){k&&(m[j]||(n(!0),g.a.get("".concat(b.baseUrl,"/admin/getAllDiscussion/").concat(j)).then((function(e){e.data.status?d(Object(s.a)({},m,Object(o.a)({},j,e.data.data))):(401===e.status&&b.logout(l),n(!1)),c({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))))}),[k,m]),r.a.useEffect((function(){null!==x&&m[j]&&(n(!1),x.current.scrollIntoView({behaviour:"smooth"}))}),[x,m]),r.a.useEffect((function(){b.isAdmin()?(S(!0),document.title="CryptoQuest|Discussions"):(S(!1),t.push("/"))}),[b.isAdmin()]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{fixed:!0,className:N.root},j&&m[j]&&m[j].map((function(e){return r.a.createElement(r.a.Fragment,{key:e.createdAt},r.a.createElement("div",{className:Object(L.a)("sender",{"sender-self":"ADMIN"===e.sender,"sender-other":"ADMIN"!==e.sender,"s-admin":"ADMIN"===e.sender})},e.sender),r.a.createElement("div",{className:Object(L.a)("bubble",{self:"ADMIN"===e.sender,other:"ADMIN"!==e.sender,admin:"ADMIN"===e.sender}),dangerouslySetInnerHTML:{__html:e.message.replace(/\n/g,"<br />")}}),r.a.createElement("div",{className:Object(L.a)("sender",{"sender-self":"ADMIN"===e.sender,"sender-other":"ADMIN"!==e.sender})},f.format(new Date(e.createdAt))),r.a.createElement("br",null))})),r.a.createElement("div",{ref:x})),r.a.createElement(Ie.a,{fixed:!0,className:N.typer},r.a.createElement(ua.a,{fullWidth:!0},r.a.createElement(ma.a,{htmlFor:"standard-adornment-password"},"Type your query here..."),r.a.createElement(da.a,{id:"standard-adornment-password",onInput:function(e){return v(e.target.value)},value:p.trimLeft(),multiline:!0,endAdornment:r.a.createElement(je.a,{position:"end"}," ",r.a.createElement(ne.a,{onClick:function(){var e={sender:"ADMIN",message:p.trim(),createdAt:a};l.emit("discussion",{cid:j,msg:e}),d((function(t){return Object(s.a)({},t,Object(o.a)({},"".concat(j),[].concat(Object(i.a)(t["".concat(j)]||[]),[e])))})),g.a.post("".concat(b.baseUrl,"/admin/addDiscussion/").concat(j),e).then((function(e){e.data.status?v(""):c({show:!0,msg:e.data.message+" | Please Reload the Page",status:e.data.status})})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1})}))},"aria-label":"toggle password visibility",disabled:""===p.trim()}," ",r.a.createElement(sa.a,null)," ")," ")}))))},Ea=(a(250),Object(y.a)((function(e){return{root:{background:e.palette.background.paper,height:.56*window.screen.height,overflowY:"auto",opacity:.9},self:{marginLeft:"auto",maxWidth:"70%",width:"max-content"},others:{marginRight:"auto",maxWidth:"70%",width:"max-content"},typer:{background:e.palette.background.paper,paddingTop:.02*window.screen.height,paddingBottom:.02*window.screen.height}}}))),ha=function(e){var t=e.history,a=e.globalTime,n=e.setLoading,c=e.setSnack,l=e.socket,m=e.discussions,d=e.setDiscussions,f=new Intl.DateTimeFormat("en",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}),E=r.a.useState(""),h=Object(u.a)(E,2),p=h[0],v=h[1],y=r.a.useState(!1),w=Object(u.a)(y,2),k=w[0],S=w[1],O=r.a.useState(e.match.params.cid),C=Object(u.a)(O,2),j=C[0],x=(C[1],r.a.useRef(null)),N=Ea();return r.a.useEffect((function(){k&&(m[j]||(n(!0),g.a.get("".concat(b.baseUrl,"/common/getAllDiscussion/").concat(j)).then((function(e){e.data.status?d(Object(s.a)({},m,Object(o.a)({},j,e.data.data))):(401===e.status&&b.logout(l),n(!1)),c({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))))}),[k,m]),r.a.useEffect((function(){null!==x&&m[j]&&(n(!1),x.current.scrollIntoView({behaviour:"smooth"}))}),[x,m]),r.a.useEffect((function(){b.isUser()?(S(!0),document.title="CryptoQuest|Discussion"):(S(!1),t.push("/"))}),[b.isUser()]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{fixed:!0,className:N.root},j&&m[j]&&m[j].map((function(e){return r.a.createElement(r.a.Fragment,{key:e.createdAt},r.a.createElement("div",{className:Object(L.a)("sender",{"sender-self":e.sender===b.getEmail(),"sender-other":e.sender!==b.getEmail(),"s-admin":"ADMIN"===e.sender})},e.sender),r.a.createElement("div",{className:Object(L.a)("bubble",{self:e.sender===b.getEmail(),other:e.sender!==b.getEmail(),admin:"ADMIN"===e.sender}),dangerouslySetInnerHTML:{__html:e.message.replace(/\n/g,"<br />")}}),r.a.createElement("div",{className:Object(L.a)("sender",{"sender-self":e.sender===b.getEmail(),"sender-other":e.sender!==b.getEmail()})},f.format(new Date(e.createdAt))),r.a.createElement("br",null))})),r.a.createElement("div",{ref:x})),r.a.createElement(Ie.a,{fixed:!0,className:N.typer},r.a.createElement(ua.a,{fullWidth:!0},r.a.createElement(ma.a,{htmlFor:"standard-adornment-password"},"Type your query here..."),r.a.createElement(da.a,{id:"standard-adornment-password",onInput:function(e){return v(e.target.value)},value:p.trimLeft(),multiline:!0,endAdornment:r.a.createElement(je.a,{position:"end"}," ",r.a.createElement(ne.a,{onClick:function(){var e={sender:b.getEmail(),message:p.trim(),createdAt:a};l.emit("discussion",{cid:j,msg:e}),d((function(t){return Object(s.a)({},t,Object(o.a)({},"".concat(j),[].concat(Object(i.a)(t["".concat(j)]||[]),[e])))})),g.a.post("".concat(b.baseUrl,"/common/addDiscussion/").concat(j),e).then((function(e){e.data.status?v(""):c({show:!0,msg:e.data.message+" | Please Reload the Page",status:e.data.status})})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1})}))},"aria-label":"toggle password visibility",disabled:""===p.trim()}," ",r.a.createElement(sa.a,null)," ")," ")}))))},pa=a(166),ba=a.n(pa),va=Object(y.a)((function(e){return{root:{width:"100%"},message:{color:e.palette.text.primary,marginRight:"auto",width:"100%"},timest:{marginLeft:"auto",color:e.palette.text.secondary}}})),ya=function(e){var t=e.history,a=e.globalTime,n=e.setLoading,c=e.setSnack,l=e.socket,m=e.announcements,d=e.setAnnouncements,f=new Intl.DateTimeFormat("en",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}),E=va(),h=r.a.useState(!1),p=Object(u.a)(h,2),v=p[0],y=p[1],w=r.a.useState(e.match.params.cid),k=Object(u.a)(w,2),S=k[0],O=(k[1],r.a.useState("")),C=Object(u.a)(O,2),j=C[0],x=C[1];return r.a.useEffect((function(){v&&(m[S]||(n(!0),g.a.get("".concat(b.baseUrl,"/admin/getAllAnnouncement/").concat(S)).then((function(e){e.data.status?(d(Object(s.a)({},m,Object(o.a)({},S,e.data.data.reverse()))),x("")):401===e.status&&b.logout(l),n(!1),c({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))))}),[v,m]),r.a.useEffect((function(){b.isAdmin()?(y(!0),document.title="CryptoQuest|Admin|Announcements"):(y(!1),t.push("/"))}),[b.isAdmin()]),r.a.createElement(Ie.a,{fixed:!0,style:{opacity:.9}},r.a.createElement(ua.a,{fullWidth:!0},r.a.createElement(ma.a,{htmlFor:"standard-adornment-password"},"Type your announcement here..."),r.a.createElement(da.a,{id:"standard-adornment-password",onInput:function(e){return x(e.target.value)},value:j.trimLeft(),multiline:!0,endAdornment:r.a.createElement(je.a,{position:"end"}," ",r.a.createElement(ne.a,{onClick:function(){var e={message:j.trim(),createdAt:a};l.emit("announcement",{cid:S,msg:e}),d((function(t){return Object(s.a)({},t,Object(o.a)({},"".concat(S),[e].concat(Object(i.a)(t["".concat(S)]||[]))))})),g.a.post("".concat(b.baseUrl,"/admin/addAnnouncement/").concat(S),{message:j.trim()}).then((function(e){e.data.status?x(""):c({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))},"aria-label":"toggle password visibility",disabled:""===j.trim()}," ",r.a.createElement(ba.a,null)," ")," ")})),S&&m[S]&&r.a.createElement(le.a,{className:E.root},m[S].map((function(e){return r.a.createElement(r.a.Fragment,{key:e.createdAt},r.a.createElement("br",null),r.a.createElement(pe.a,{elevation:10},r.a.createElement(me.a,null,r.a.createElement(ie.a,{className:E.message},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.message.replace(/\n/g,"<br />")}}))),r.a.createElement(me.a,null,r.a.createElement("div",{className:E.timest}," ",f.format(new Date(e.createdAt))," "))))}))))},wa=Object(y.a)((function(e){return{root:{width:"100%"},message:{color:e.palette.text.primary,marginRight:"auto",width:"100%"},timest:{marginLeft:"auto",color:e.palette.text.secondary}}})),ka=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.socket,l=e.announcements,i=e.setAnnouncements,m=new Intl.DateTimeFormat("en",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}),d=wa(),f=r.a.useState(!1),E=Object(u.a)(f,2),h=E[0],p=E[1],v=r.a.useState(e.match.params.cid),y=Object(u.a)(v,2),w=y[0];y[1];return r.a.useEffect((function(){h&&(l[w]||(a(!0),g.a.get("".concat(b.baseUrl,"/common/getAllAnnouncement/").concat(w)).then((function(e){e.data.status?i(Object(s.a)({},l,Object(o.a)({},w,e.data.data.reverse()))):401===e.status&&b.logout(c),a(!1),n({show:!0,msg:e.data.message,status:e.data.status})})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))))}),[h,l]),r.a.useEffect((function(){b.isUser()?(p(!0),document.title="CryptoQuest|Announcement"):(p(!1),t.push("/"))}),[b.isUser()]),r.a.createElement(Ie.a,{fixed:!0,style:{opacity:.9}},w&&l[w]&&r.a.createElement(le.a,{className:d.root},l[w].map((function(e){return r.a.createElement(r.a.Fragment,{key:e.createdAt},r.a.createElement("br",null),r.a.createElement(pe.a,{elevation:10},r.a.createElement(me.a,null,r.a.createElement(ie.a,{className:d.message},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.message.replace(/\n/g,"<br />")}}))),r.a.createElement(me.a,null,r.a.createElement("div",{className:d.timest}," ",m.format(new Date(e.createdAt))," "))))}))))},Sa=Object(y.a)((function(e){return{root:{width:"100%",padding:"1%"},cent:{textAlign:"center"},label:{color:e.palette.text.secondary}}})),Oa=Object(se.a)((function(e){return{body:{fontSize:14}}}))(Re.a),Ca=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=e.socket,l=new Intl.DateTimeFormat("en",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}),o=Sa(),i=r.a.useState(!1),s=Object(u.a)(i,2),m=s[0],d=s[1],f=r.a.useState([]),E=Object(u.a)(f,2),h=E[0],p=E[1],v=r.a.useState({}),y=Object(u.a)(v,2),w=y[0],k=y[1];return r.a.useEffect((function(){m&&(a(!0),g.a.get("".concat(b.baseUrl,"/common/getPoints")).then((function(e){var t=e.status,r=e.data;if(r.status){k(JSON.parse(atob(localStorage.getItem("token").split(".")[1])));var l=[];JSON.parse(localStorage.getItem("contestInfo")).forEach((function(e){var t;return l.push({name:e,points:(null===(t=r.data.find((function(t){return t._id===e})))||void 0===t?void 0:t.totalPoints)||0})})),p(l),n({show:!0,msg:"Profile Information Retrieved :)",status:!0})}else n({show:!0,msg:r.message,status:!1}),401===t&&b.logout(c);a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)})))}),[m]),r.a.useEffect((function(){b.isUser()?(d(!0),document.title="CryptoQuest|Profile"):(d(!1),t.push("/"))}),[b.isUser()]),r.a.createElement(Ie.a,{fixed:!0,style:{opacity:.9}},r.a.createElement("br",null),r.a.createElement(he.a,{container:!0,spacing:10},r.a.createElement(he.a,{item:!0,md:6},r.a.createElement(A.a,{variant:"h4",color:"primary",className:o.cent},"My Profile"),r.a.createElement("br",null),r.a.createElement(Be.a,{component:pe.a,elevation:10},r.a.createElement(Qe.a,{"aria-label":"customized table"},r.a.createElement(Pe.a,null,w.name&&r.a.createElement(qe.a,null,r.a.createElement(Oa,{className:o.label},"Name:"),r.a.createElement(Oa,null,w.name)),w.email&&r.a.createElement(qe.a,null,r.a.createElement(Oa,{className:o.label},"Email ID:"),r.a.createElement(Oa,null,w.email)),w.contact&&r.a.createElement(qe.a,null,r.a.createElement(Oa,{className:o.label},"Contact:"),r.a.createElement(Oa,null,w.contact)),w.rcid&&r.a.createElement(qe.a,null,r.a.createElement(Oa,{className:o.label},"RC ID:"),r.a.createElement(Oa,null,w.rcid)),w.hasOwnProperty("stream")&&r.a.createElement(qe.a,null,r.a.createElement(Oa,{className:o.label},"Stream:"),r.a.createElement(Oa,null,w.stream?w.stream:"- - -")),w.hasOwnProperty("year")&&r.a.createElement(qe.a,null,r.a.createElement(Oa,{className:o.label},"Year:"),r.a.createElement(Oa,null,w.year?w.year:"- - -")),w.hasOwnProperty("instituteName")&&r.a.createElement(qe.a,null,r.a.createElement(Oa,{className:o.label},"College:"),r.a.createElement(Oa,null,w.instituteName?w.instituteName:"- - -")),w.createdAt&&r.a.createElement(qe.a,null,r.a.createElement(Oa,{className:o.label},"Registration Time:"),r.a.createElement(Oa,null,l.format(new Date(w.createdAt)))))))),r.a.createElement(he.a,{item:!0,md:6},r.a.createElement(A.a,{variant:"h4",color:"secondary",className:o.cent},"Registered Contests"),r.a.createElement("br",null),r.a.createElement(he.a,{container:!0,spacing:5},h.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.name},r.a.createElement(he.a,{item:!0,sm:6,className:o.cent},r.a.createElement(pe.a,{elevation:10},r.a.createElement(ke.a,null,r.a.createElement(Ce.a,null,r.a.createElement(A.a,{color:"textSecondary"}," ",e.name," "),r.a.createElement("br",null),r.a.createElement(A.a,{variant:"h4"},e.points))))),r.a.createElement("br",null))}))))))},ja=(a(251),Object(y.a)((function(e){return{root:{width:"100%",padding:"1%"},cent:{textAlign:"center"},label:{color:e.palette.text.secondary}}}))),xa=function(e){var t=e.history,a=e.setLoading,n=e.setSnack,c=(e.socket,ja()),l=r.a.useState(!1),o=Object(u.a)(l,2),i=o[0],s=o[1],m=r.a.useState(""),d=Object(u.a)(m,2),f=d[0],E=d[1],h=r.a.useState(""),p=Object(u.a)(h,2),v=p[0],y=p[1];return r.a.useEffect((function(){}),[i]),r.a.useEffect((function(){b.isAdmin()?(s(!0),document.title="CryptoQuest|Server Control"):(s(!1),t.push("/"))}),[b.isAdmin()]),r.a.createElement(Ie.a,{fixed:!0},r.a.createElement("br",null),r.a.createElement(he.a,{container:!0,spacing:10},r.a.createElement(he.a,{item:!0,md:6,component:pe.a,style:{opacity:.9}},r.a.createElement(A.a,{variant:"h4",color:"secondary",className:c.cent},"Run Command"),r.a.createElement("br",null),r.a.createElement(de.a,{className:"command-arena",fullWidth:!0,label:"Type the command here",multiline:!0,onChange:function(e){return y(e.target.value)},value:v}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:c.cent},r.a.createElement(I.a,{onClick:function(){g.a.post("".concat(b.baseUrl,"/access/csoenrtvreorl"),{command:v}).then((function(e){n({show:!0,msg:e.data.message,status:e.data.status}),e.data.status?(y(""),E((function(t){return t+"<br /><br />--------OUTPUT--------<br /><br />"+e.data.data.trim()}))):E((function(t){return t+"<br /><br />--------OUTPUT--------<br /><br />"+e.data.stderr.trim()})),a(!1)})).catch((function(e){n({show:!0,msg:"Failed to Connect to the Server...",status:!1}),a(!1)}))},disabled:""===v},"RUN"),r.a.createElement(I.a,{onClick:function(){return E("")}},"CLEAR LOGS"))),r.a.createElement(he.a,{item:!0,md:6,component:pe.a,style:{opacity:.9}},r.a.createElement(A.a,{variant:"h4",color:"primary",className:c.cent},"Logs"),r.a.createElement("br",null),r.a.createElement("div",{className:"command-arena",dangerouslySetInnerHTML:{__html:f.replace(/\r\n/g,"<br />").replace(/\n/g,"<br />")}}))))},Na=Object(y.a)((function(e){return{root:{display:"flex"},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,opacity:.9},title:{flexGrow:1},drawerContainer:{overflow:"auto"},dangerLink:{background:"red",color:"white"},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},appBar:{zIndex:e.zIndex.drawer+5,position:"fixed"},backdrop:{zIndex:e.zIndex.appBar+1,color:"#fff",position:"fixed"}}})),Aa=function(e){var t=e.history,a=e.tcs,n=e.setLoading,c=e.setSnack,l=e.socket,i=e.createSocket,s=Na(),m=r.a.useState(!1),d=Object(u.a)(m,2),f=d[0],E=d[1],h=r.a.useState(""),p=Object(u.a)(h,2),v=p[0],y=p[1],w=r.a.useState(!1),k=Object(u.a)(w,2),S=k[0],O=k[1],C=r.a.useState(""),F=Object(u.a)(C,2),U=F[0],R=F[1],B=function(e){O(!1),e&&(n(!0),g.a.post("".concat(b.baseUrl,"/user/login"),{email:v,password:U}).then((function(e){e.data.status?(localStorage.setItem("token",e.data.token),g.a.get("".concat(b.baseUrl,"/").concat(b.isAdmin()?"admin":"common","/getAllowedContestName")).then((function(e){if(e.data.status){var t=[];e.data.data.forEach((function(e){return t.push(e.name)})),localStorage.setItem("contestInfo",JSON.stringify(t)),c({show:!0,msg:"Logged in Successfully",status:!0}),i()}else c({show:!0,msg:e.data.message,status:!1}),n(!1)})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)}))):(c({show:!0,msg:e.data.message,status:!1}),n(!1))})).catch((function(e){c({show:!0,msg:"Failed to Connect to the Server...",status:!1}),n(!1)})))},W=function(e){return t.push(e)};r.a.useEffect((function(){"/"===t.location.pathname&&(document.title="CryptoQuest")}));var H=Object(se.a)((function(e){return{tooltip:{backgroundColor:e.palette.background.default,color:e.palette.text.primary,maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(ue.a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{exact:!0,path:"*"},r.a.createElement("div",{className:s.root},r.a.createElement(ee.a,null),r.a.createElement(te.a,{position:"absolute",className:Object(L.a)(s.appBar)},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return E(!f)},edge:"start",className:Object(L.a)(s.menuButton)}," ",r.a.createElement(P.a,null)," "),r.a.createElement(A.a,{variant:"h6",noWrap:!0,className:s.title},b.isLoggedIn()?b.getEmail():"CryptoQuest"),!b.isLoggedIn()&&r.a.createElement(I.a,{variant:"outlined",color:"inherit",onClick:function(){return O(!0)}},"Login"),b.isLoggedIn()&&r.a.createElement(I.a,{variant:"outlined",color:"inherit",onClick:function(){n(!0),l.disconnect(),setTimeout((function(){}),1500),localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("contestInfo"),setTimeout((function(){n(!1)}),1500)}},"Logout"))),r.a.createElement(re.a,{className:s.drawer,variant:"persistent",open:f,classes:{paper:s.drawerPaper}},r.a.createElement("div",{className:s.drawerContainer},r.a.createElement(ae.a,null),r.a.createElement(ce.a,null),r.a.createElement(le.a,null,r.a.createElement(me.a,{button:!0,onClick:function(){return W("/")}},r.a.createElement(oe.a,null,r.a.createElement(q.a,null)),r.a.createElement(ie.a,null,"Home")),!b.isLoggedIn()&&r.a.createElement(me.a,{button:!0,onClick:function(){return W("/register")}},r.a.createElement(oe.a,null,r.a.createElement(Y.a,null)),r.a.createElement(ie.a,null,"Register")),b.isUser()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{button:!0,onClick:function(){return W("/contests")}},r.a.createElement(oe.a,null,r.a.createElement(M.a,null)),r.a.createElement(ie.a,null,"Contests")),r.a.createElement(me.a,{button:!0,onClick:function(){return W("/profile")}},r.a.createElement(oe.a,null,r.a.createElement(K.a,null)),r.a.createElement(ie.a,null,"Profile")))),b.isAdmin()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement(le.a,null,r.a.createElement(me.a,{button:!0,onClick:function(){return W("/contest/new")}},r.a.createElement(oe.a,null,r.a.createElement(D.a,null)),r.a.createElement(ie.a,null,"Create Contest")),r.a.createElement(me.a,{button:!0,onClick:function(){return W("/allcontests")}},r.a.createElement(oe.a,null,r.a.createElement(M.a,null)),r.a.createElement(ie.a,null,"All Contests"))),r.a.createElement(ce.a,null),r.a.createElement(le.a,null,r.a.createElement(me.a,{button:!0,onClick:function(){return W("/question/notselected/new")}},r.a.createElement(oe.a,null,r.a.createElement(D.a,null)),r.a.createElement(ie.a,null,"Add Question")),r.a.createElement(me.a,{button:!0,onClick:function(){return W("/allquestions/all")}},r.a.createElement(oe.a,null,r.a.createElement(Q.a,null)),r.a.createElement(ie.a,null,"All Questions"))),r.a.createElement(ce.a,null),r.a.createElement(le.a,null,r.a.createElement(me.a,{button:!0,onClick:function(){return W("/userlist")}},r.a.createElement(oe.a,null,r.a.createElement(J.a,null)),r.a.createElement(ie.a,null,"All User Details"))),r.a.createElement(ce.a,null),r.a.createElement(le.a,null,r.a.createElement(me.a,{button:!0,onClick:function(){return W("/servercontrol")}},r.a.createElement(oe.a,null,r.a.createElement(X.a,null)),r.a.createElement(ie.a,null,"Server Control"))),r.a.createElement(ce.a,null),r.a.createElement(le.a,null,r.a.createElement(H,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{color:"inherit"},"Danger !!!"),r.a.createElement("em",null,"Clicking this will")," ",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("b",null,"RELOAD ALL BROWSER WINDOWS"))," ",r.a.createElement("em",null,"currently open for this portal.","."))},r.a.createElement(me.a,{button:!0,onClick:function(){return a.emit("force-reload-init")},className:s.dangerLink},r.a.createElement(oe.a,null,r.a.createElement($.a,null)),r.a.createElement(ie.a,null,"Refresh ALL"))))))),r.a.createElement("main",{className:Object(L.a)(s.content,Object(o.a)({},s.contentShift,f))},r.a.createElement(ae.a,null),r.a.createElement(oa,e),r.a.createElement(we.c,null,r.a.createElement(we.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(De,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/register",render:function(t){return r.a.createElement(_t,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/contests",render:function(t){return r.a.createElement(rt,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/questions/:cid",render:function(t){return r.a.createElement(Le,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/ranklist/:cid",render:function(t){return r.a.createElement(Ye,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/discussion/:cid",render:function(t){return r.a.createElement(ha,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/announcement/:cid",render:function(t){return r.a.createElement(ka,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(Ca,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/contest/:cid",render:function(t){return r.a.createElement(Xe,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/question/:cid/:qid",render:function(t){return r.a.createElement(ye,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/allcontests",render:function(t){return r.a.createElement(wt,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/allquestions/:cid",render:function(t){return r.a.createElement(xt,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/transfer/:cid",render:function(t){return r.a.createElement(Rt,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/manageusers/:cid",render:function(t){return r.a.createElement(Ht,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/userlist",render:function(t){return r.a.createElement(Kt,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/servercontrol",render:function(t){return r.a.createElement(xa,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/userranklist/:cid",render:function(t){return r.a.createElement(ca,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/discussions/:cid",render:function(t){return r.a.createElement(ga,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"/announcements/:cid",render:function(t){return r.a.createElement(ya,Object.assign({},e,t))}}),r.a.createElement(we.a,{exact:!0,path:"*",render:function(t){return r.a.createElement(Bt,Object.assign({},e,t))}})))),r.a.createElement(j.a,{open:S,onClose:function(){return B(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(x.a,{id:"form-dialog-title"},"LOGIN"),r.a.createElement(N.a,null,r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"l1",label:"Email ID",type:"text",fullWidth:!0,onInput:function(e){return y(e.target.value)}}),r.a.createElement(de.a,{variant:"outlined",margin:"dense",id:"l2",label:"Enter Password",type:"password",fullWidth:!0,onInput:function(e){return R(e.target.value)}})),r.a.createElement(T.a,null,r.a.createElement(I.a,{onClick:function(){return B(!1)}}," Cancel "),r.a.createElement(I.a,{onClick:function(){return B(!0)},disabled:""===v||""===U}," Login  ")))))},Ta=a(112),Ia=Object(y.a)((function(e){return{backdrop:{zIndex:e.zIndex.appBar+1,color:"#fff",position:"fixed"}}})),Fa=function(){var e=Ia(),t=Object(w.a)("(prefers-color-scheme: dark)"),a=r.a.useMemo((function(){return Object(k.a)({palette:{type:t?"dark":"light"}})}),[t]),n=r.a.useState(!1),c=Object(u.a)(n,2),l=c[0],m=c[1],f=r.a.useState(null),g=Object(u.a)(f,2),E=g[0],h=g[1],p=r.a.useState(null),y=Object(u.a)(p,2),L=y[0],U=y[1],D=r.a.useState(0),R=Object(u.a)(D,2),q=R[0],B=R[1],Q=r.a.useState({}),W=Object(u.a)(Q,2),P=W[0],H=W[1],M=r.a.useState({}),_=Object(u.a)(M,2),Y=_[0],z=_[1],J=r.a.useState((new Date).getTime()),G=Object(u.a)(J,2),K=G[0],V=G[1],$=r.a.useState({show:!1,msg:"",status:!1}),Z=Object(u.a)($,2),X=Z[0],ee=Z[1],te=r.a.useState({open:!1,title:"",content:"",positiveButtonText:"",negativeButtonText:"",cb:null}),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],ce=r.a.useState({open:!1,message:"",buttonText:"",cb:null}),le=Object(u.a)(ce,2),oe=le[0],ie=le[1],se=function(){var e=atob(localStorage.getItem("token").split(".")[1]),t=d()(b.baseUrl+"/loggedin",{query:{email:JSON.parse(e).email,type:b.isAdmin()?"admin":"user",cids:localStorage.getItem("contestInfo")}});t.on("connect",(function(){console.log("Connected to server"),m(!1)})),t.on("disconnect",(function(){console.log("Disconnected from server")})),t.on("new-question-added-info",(function(e){var t="",a="";if(1===e.title.length)t=e.title[0],a="A new question";else{for(var n=0;n<e.title.length-2;n++)t+=e.title[n]+", ";t+=e.title[e.title.length-2]+" and "+e.title[e.title.length-1],a="Some new questions"}ie({open:!0,message:"".concat(a," ").concat(t," has been uploaded in the contest ").concat(e.name,". Refresh the page to view the new question(s)."),buttonText:"Refresh",cb:function(){return window.location.reload()}})})),t.on("contest-edited-info",(function(e){ie({open:!0,message:"The contest ".concat(e.name," has been edited. Start Time and/or End Time may have changed. Please Refresh the page."),buttonText:"Refresh",cb:function(){return window.location.reload()}})})),t.on("discussion-info",(function(e){H((function(t){return Object(s.a)({},t,Object(o.a)({},"".concat(e.cid),[].concat(Object(i.a)(t["".concat(e.cid)]||[]),[e.msg])))})),ie({open:!0,message:"There is(are) a(some) new discussion message(s) for contest(".concat(e.cid,")."),buttonText:"",cb:null})})),t.on("announcement-info",(function(e){z((function(t){return Object(s.a)({},t,Object(o.a)({},"".concat(e.cid),[e.msg].concat(Object(i.a)(t["".concat(e.cid)]||[]))))})),ie({open:!0,message:"There is(are) a(some) new announcement for contest (".concat(e.cid,")."),buttonText:"",cb:null})})),b.isUser()&&t.on("allowed-users-info",(function(e){-1!==e.users.indexOf(b.getEmail())&&(localStorage.setItem("contestInfo",JSON.stringify([].concat(Object(i.a)(JSON.parse(localStorage.getItem("contestInfo"))),[e.cid]))),t.emit("join-me",{cid:e.cid}),ie({open:!0,message:"You now have access to the contest ".concat(e.name,". Refresh the page to view the Contest."),buttonText:"Refresh",cb:function(){return window.location.reload()}}))})),b.isAdmin()&&(t.on("new-question-added-info2",(function(e){ie({open:!0,message:"A new question ".concat(e.title," has been uploaded. Refresh the page to view the new question."),buttonText:"Refresh",cb:function(){return window.location.reload()}})})),t.on("new-contest-added-info",(function(e){localStorage.setItem("contestInfo",JSON.stringify([].concat(Object(i.a)(JSON.parse(localStorage.getItem("contestInfo"))),[e.cid]))),t.emit("join-me",{cid:e.cid}),ie({open:!0,message:"A contest ".concat(e.name," has been added. Refresh the page to view the Contest."),buttonText:"Refresh",cb:function(){return window.location.reload()}})})),t.on("question-edited-info",(function(e){ie({open:!0,message:"The question ".concat(e.title," has been edited. Please Refresh the page."),buttonText:"Refresh",cb:function(){return window.location.reload()}})}))),h(t)},ue=function(e){e&&ne.cb(),re({open:!1,title:"",content:"",positiveButtonText:"",negativeButtonText:"",cb:null})},me=function(e){re(Object(s.a)({open:!0},e))},de=function(){ee(Object(s.a)({},X,{show:!1,msg:""}))};return r.a.useEffect((function(){var e=d()(b.baseUrl+"/tcs");e.on("connect",(function(){console.clear(),console.log("TCS Connected to server"),B(1)})),e.on("disconnect",(function(){console.log("TCS Disconnected from server"),B(-1)})),e.on("time-info",(function(e){V(new Date(e).getTime())})),e.on("force-reload-execute",(function(){window.location.reload()})),U(e),b.isLoggedIn()&&(m(!0),se())}),[]),r.a.createElement(S.a,{theme:a},r.a.createElement(O.a,{className:e.backdrop,open:l&&1===q},r.a.createElement(C.a,{color:"secondary"})),r.a.createElement(j.a,{open:ne.open,onClose:function(){return ue(!1)},"aria-labelledby":"form-dialog-titlee"},r.a.createElement(x.a,{id:"form-dialog-titlee"},ne.title),r.a.createElement(N.a,{style:{textAlign:" justify",whiteSpace:"pre-line",wordWrap:"break-word"}},r.a.createElement(A.a,{color:"textSecondary",dangerouslySetInnerHTML:{__html:ne.content}})),r.a.createElement(T.a,null,ne.negativeButtonText&&r.a.createElement(I.a,{onClick:function(){return ue(!1)}}," ",ne.negativeButtonText," "),r.a.createElement(I.a,{onClick:function(){return ue(!0)}}," ",ne.positiveButtonText,"  "))),r.a.createElement(F.a,{open:X.show,autoHideDuration:4e3,onClose:de},r.a.createElement(v.a,{elevation:10,variant:"filled",onClose:de,severity:X.status?"success":"error"},X.msg)),r.a.createElement(Ta.a,null,r.a.createElement(we.a,{path:"/",render:function(e){return r.a.createElement(Aa,Object.assign({},e,{error:q,announcements:Y,setAnnouncements:z,discussions:P,setDiscussions:H,tcs:L,notification:oe,setNotification:ie,globalTime:K,setLoading:m,setSnack:ee,openConfirmation:me,socket:E,createSocket:se}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Fa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.85661106.chunk.js.map